import{R as fe,b as Jt,d as Kt,u as pt,e as z,r as p,j as n,s as Se,f as Ce,h as ke,i as Ee,k as Re,l as Oe,m as V,n as Z,o as W,p as U,q,t as Ge,v as Gt,w as Yt,x as Xt,y as Zt}from"./index-2b88f015.js";import{G as M}from"./iconBase-c348d7ff.js";import{b as Qt,c as es,d as ts,e as ss,f as rs,g as ee,h as te,i as ns,j as os,k as ls,l as as,m as gt,n as bt,o as le,p as ae,q as is}from"./index.esm-60e64384.js";import{a as Ye,b as xt}from"./index.esm-619ecd2a.js";import{R as pe}from"./index.esm-4327e289.js";import{f as Xe,c as L}from"./Firebase-9af91a01.js";import{u as F}from"./index.esm-b9eded6f.js";import{u as v,v as Ze,f as _,n as he,t as Ae}from"./index-a835da85.js";function wt(e=fe){const t=e===fe?Jt:Kt(e);return function(){const{store:r}=t();return r}}const cs=wt();function us(e=fe){const t=e===fe?cs:wt(e);return function(){return t().dispatch}}const K=us();function ds(e){return M({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"}}]})(e)}function fs(e){return M({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function hs(e){return M({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z"}}]})(e)}function ms(e){return M({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(e)}const ps=()=>{const e=pt(),{toDoList:t,note:s,blurting:r,flashCard:o,feynman:l,music:a,search:i,pomodoro:h}=z(g=>g.home),{timeRemainingString:d}=z(g=>g.pomodoro),c=K(),f=()=>{c(Se(!1)),c(Ce(!1)),c(ke(!1)),c(Re(!1)),c(Ee(!1)),c(V(!1)),c(Oe(!1)),c(Z(!1))},[j,x]=p.useState(!1),[m,w]=p.useState(!1),b=({Icon:g,isOpened:S})=>n.jsx("div",{className:"icon text-2xl select-none transition ease-out hover:bg-slate-300 "+(S&&"border-blue-500 border-4 shadow-md")||"",children:n.jsx(g,{})});return n.jsxs("div",{className:"z-40 footer-container bg-slate-50 ring-2 ring-slate-800 flex justify-center items-center border-solid border-x-0 border-b-0 w-screen h-13 lg:rounded-ss-3xl lg:rounded-se-3xl",children:[n.jsxs("div",{className:"w-full justify-center items-center hidden lg:flex",children:[n.jsxs("div",{className:"absolute left-0 ml-3 flex",children:[n.jsx("div",{title:"Home",onClick:()=>{f()},children:n.jsx(b,{Icon:Qt})}),n.jsx("div",{title:"Logout",onClick:()=>{Xe()},children:n.jsx(b,{Icon:ms})})]}),n.jsxs("div",{className:"w-screen lg:w-auto justify-evenly flex",children:[n.jsx("div",{title:"To Do List",onClick:()=>{f(),c(Se(!t))},children:n.jsx(b,{Icon:fs,isOpened:t})}),n.jsx("div",{title:"Notes",onClick:()=>{f(),c(Ce(!s))},children:n.jsx(b,{Icon:hs,isOpened:s})}),n.jsx("div",{title:"Blurting",onClick:()=>{f(),c(ke(!r))},children:n.jsx(b,{Icon:es,isOpened:r})}),n.jsx("div",{title:"Flashcard",onClick:()=>{f(),c(Ee(!o))},children:n.jsx(b,{Icon:ts,isOpened:o})}),n.jsx("div",{title:"Feynman",onClick:()=>{f(),c(Re(!l))},children:n.jsx(b,{Icon:ds,isOpened:l})}),n.jsx("div",{title:"Search",onClick:()=>{f(),c(Oe(!i))},children:n.jsx(b,{Icon:ss,isOpened:i})})]}),n.jsxs("div",{className:"absolute right-0 mr-3 flex",children:[n.jsx("div",{title:"Setting",onClick:()=>{e("/setting")},children:n.jsx(b,{Icon:Ye})}),n.jsx("div",{title:"Music",onClick:()=>{c(V(!a)),c(Z(!1))},children:n.jsx(b,{Icon:rs})}),n.jsx("div",{title:"Pomodoro",className:"pomodoro hover:bg-slate-300",onClick:()=>{c(Z(!h)),c(V(!1))},children:n.jsx("div",{className:"select-none",children:d})})]})]}),n.jsxs("div",{className:"relative w-full justify-center items-center flex lg:hidden",children:[n.jsxs("div",{className:"icon relative",children:[n.jsxs("div",{className:j===!0?"absolute bottom-full mb-7 bg-slate-200 shadow-md py-3 rounded-lg w-80 text-center z-50 visible":"absolute bottom-full mb-7 bg-slate-200 shadow-md py-3 rounded-lg w-80 text-center z-50 hidden",children:[n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g)},children:"Home"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g),c(Se(!0))},children:"Todolist"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g),c(Ce(!0))},children:"Note"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g),c(ke(!0))},children:"Blurting"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g),c(Ee(!0))},children:"Flashcard"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g),c(Re(!0))},children:"Feynman"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),x(g=>!g),c(Oe(!0))},children:"Search"}),n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{x(g=>!g),c(Z(!1)),c(V(!a))},children:"Music"})]}),n.jsx(pe,{className:"text-2xl select-none",onClick:()=>{x(g=>!g),c(V(!1))}})]}),n.jsx("div",{className:"icon absolute right-5",children:n.jsxs("div",{className:"select-none",onClick:()=>w(g=>!g),children:[n.jsx("div",{className:m===!0?"absolute bottom-full right-0 mb-7 bg-slate-200 p-2 rounded-lg text-center z-50 visible":"absolute bottom-full mb-7 bg-slate-200 p-2 rounded-lg w-80 text-center z-50 hidden",children:n.jsx("p",{className:"hover:bg-slate-300 p-2 rounded",onClick:()=>{f(),w(g=>!g),Xe()},children:"Logout"})}),n.jsx(Ye,{className:"text-3xl"})]})}),n.jsx("div",{className:"absolute left-5 pomodoro",onClick:()=>{c(V(!1)),c(Z(!h))},children:n.jsx("div",{className:"select-none text-xl",children:d})})]})]})};function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},De.apply(this,arguments)}function gs(e,t){if(e==null)return{};var s={},r=Object.keys(e),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}var bs=p.useLayoutEffect,xs=function(t){var s=p.useRef(t);return bs(function(){s.current=t}),s},Qe=function(t,s){if(typeof t=="function"){t(s);return}t.current=s},ws=function(t,s){var r=p.useRef();return p.useCallback(function(o){t.current=o,r.current&&Qe(r.current,null),r.current=s,s&&Qe(s,o)},[s])},et={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},js=function(t){Object.keys(et).forEach(function(s){t.style.setProperty(s,et[s],"important")})},tt=js,R=null,st=function(t,s){var r=t.scrollHeight;return s.sizingStyle.boxSizing==="border-box"?r+s.borderSize:r-s.paddingSize};function ys(e,t,s,r){s===void 0&&(s=1),r===void 0&&(r=1/0),R||(R=document.createElement("textarea"),R.setAttribute("tabindex","-1"),R.setAttribute("aria-hidden","true"),tt(R)),R.parentNode===null&&document.body.appendChild(R);var o=e.paddingSize,l=e.borderSize,a=e.sizingStyle,i=a.boxSizing;Object.keys(a).forEach(function(j){var x=j;R.style[x]=a[x]}),tt(R),R.value=t;var h=st(R,e);R.value=t,h=st(R,e),R.value="x";var d=R.scrollHeight-o,c=d*s;i==="border-box"&&(c=c+o+l),h=Math.max(c,h);var f=d*r;return i==="border-box"&&(f=f+o+l),h=Math.min(f,h),[h,d]}var rt=function(){},vs=function(t,s){return t.reduce(function(r,o){return r[o]=s[o],r},{})},Ns=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Ss=!!document.documentElement.currentStyle,Cs=function(t){var s=window.getComputedStyle(t);if(s===null)return null;var r=vs(Ns,s),o=r.boxSizing;if(o==="")return null;Ss&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var l=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:l,borderSize:a}},ks=Cs;function jt(e,t,s){var r=xs(s);p.useLayoutEffect(function(){var o=function(a){return r.current(a)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var Es=function(t){jt(window,"resize",t)},Rs=function(t){jt(document.fonts,"loadingdone",t)},Os=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],As=function(t,s){var r=t.cacheMeasurements,o=t.maxRows,l=t.minRows,a=t.onChange,i=a===void 0?rt:a,h=t.onHeightChange,d=h===void 0?rt:h,c=gs(t,Os),f=c.value!==void 0,j=p.useRef(null),x=ws(j,s),m=p.useRef(0),w=p.useRef(),b=function(){var C=j.current,D=r&&w.current?w.current:ks(C);if(D){w.current=D;var Y=ys(D,C.value||C.placeholder||"x",l,o),H=Y[0],oe=Y[1];m.current!==H&&(m.current=H,C.style.setProperty("height",H+"px","important"),d(H,{rowHeight:oe}))}},g=function(C){f||b(),i(C)};return p.useLayoutEffect(b),Es(b),Rs(b),p.createElement("textarea",De({},c,{onChange:g,ref:x}))},ge=p.forwardRef(As);const Ts=({tasks:e,index:t,user:s,setTasks:r,numberTaskClicked:o,setNumberTaskClicked:l})=>{const a=()=>{const c=!e[t].checked;v(`users/${s.uid}/tasks/${t}/checked`,c)},i=c=>{v(`users/${s.uid}/tasks/${t}/task`,c.target.value)},h=()=>{e.splice(t,1),v(`users/${s.uid}/tasks/`,e),e.length===0&&r([])},d=c=>{v(`users/${s.uid}/tasks/${t}/date`,c.target.value)};return e.length!==0&&n.jsxs(n.Fragment,{children:[o!==-1&&n.jsx("div",{className:"bg-transparent absolute inset-0 z-10",onClick:()=>l(-1)}),n.jsxs("div",{className:o===t?"text-lg flex flex-col justify-between items-start border-b-2 px-2 pt-1 pb-1 bg-blue-100 hover:bg-blue-100 relative z-20 transition-all ease-in-out":"text-lg flex flex-col justify-center items-center border-b-2 p-2 relative hover:bg-blue-100 z-20 transition-all ease-in-out",children:[n.jsxs("div",{className:"flex w-full justify-between items-center",children:[n.jsxs("div",{className:"flex w-full",children:[n.jsx("input",{type:"checkbox",className:"mr-3 cursor-pointer w-4 rounded-full mt-2 lg:mt-0",checked:e[t].checked,onChange:a}),n.jsxs("div",{className:e[t].checked?"selected w-full":"unselected w-full",onClick:()=>l(t),children:[n.jsx(ge,{value:e[t].task,onChange:i,spellcheck:"false",className:"w-full h-auto overflow-hidden bg-transparent focus:outline-none resize-none"}),o!==t&&e[t].date!==""&&n.jsxs("div",{className:"flex gap-1 cursor-pointer",children:[n.jsx("div",{className:"text-sm bg-blue-200 px-2 rounded-3xl w-max",children:n.jsx("p",{children:e[t].date.slice(0,10)})}),n.jsx("div",{className:"text-sm bg-blue-200 px-2 rounded-3xl w-max",children:n.jsx("p",{children:e[t].date.slice(11,16)})})]})]})]}),n.jsx("div",{className:"flex items-center",children:n.jsx(ee,{onClick:h,className:"ml-3 cursor-pointer transition hover:text-red-700"})})]}),o===t&&n.jsx(n.Fragment,{children:n.jsx("input",{type:"datetime-local",name:"date",id:"date",value:e[t].date,className:"text-sm bg-transparent focus:outline-none ml-7 w-36",onChange:d})})]})]})},Me=async(e,t,s)=>{if(e.key==="Enter"&&e.shiftKey)return null;e.key==="Enter"&&!Ze.isEmpty(t)&&!Ze.isWhitelisted(t,` 
`)&&s()},Ls=()=>{const[e]=F(L),[t,s]=p.useState(-1),[r,o]=p.useState([]);p.useEffect(()=>{e&&_(`users/${e.uid}/tasks`,d=>{o(Object.values(d))})},[e]);const[l,a]=p.useState(""),i=d=>{a(d.target.value)},h=()=>{v(`users/${e.uid}/tasks`,[...r,{task:l,checked:!1,date:""}]),a("")};return n.jsx("div",{className:"z-10 lg:h-5/6 lg:w-4/5 xl:w-3/5 h-full w-full lg:border-2 border-slate-800 lg:rounded-xl lg:bg-blue-300",children:n.jsx("div",{className:"h-full w-full lg:mt-3 lg:ml-3 lg:p-3 lg:border-2 border-slate-800 lg:rounded-xl lg:bg-blue-400",children:n.jsxs("div",{className:"h-full w-full lg:rounded-md lg:border-2 border-black py-3 pr-3 pl-6 bg-slate-50 flex flex-col",children:[n.jsx("h1",{className:"font-bold mt-2 text-4xl",children:"To Do List"}),n.jsx("div",{className:"grow overflow-y-scroll pr-3 mt-3",children:r.length!==0?r.map((d,c)=>n.jsx(Ts,{tasks:r,index:c,user:e,setTasks:o,numberTaskClicked:t,setNumberTaskClicked:s},"task-"+c)):n.jsx("div",{children:"Tidak ada task"})}),n.jsxs("div",{className:"flex justify-between items-center mt-3 drop-shadow-md lg:drop-shadow-none z-20",onClick:()=>s(-1),children:[n.jsx("input",{type:"text",className:"transition ease-out grow h-5/6 border-2 bg-slate-50 border-slate-400 focus:outline-none focus:bg-slate-50 focus:ring-slate-300 focus:ring-2 rounded-lg p-3",placeholder:"New Task",onChange:i,onKeyDown:d=>Me(d,l,h),value:l}),n.jsx("button",{className:"transition ease-out icon bg-blue-300 border-2 border-blue-500 hover:bg-blue-400 hover:border-r-blue-600 hover:shadow-md focus:bg-blue-400 focus:shadow-md focus:outline-none focus:border-r-blue-600",onClick:h,children:n.jsx(te,{})})]})]})})})};function Fs(e){return M({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function _e(e){return M({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"}}]})(e)}const Ue=({Icon:e,title:t,body:s,buttonName:r,trueCallback:o,falseCallback:l,color:a})=>n.jsxs("div",{className:"animate-slide-top fixed z-50 top-3 flex bg-slate-50 p-3 rounded-lg border shadow-lg ",children:[n.jsx("h6",{className:"bg-red-500"}),n.jsx("div",{className:`bg-${a}-500 h-min p-1 rounded-lg mt-1`,children:n.jsx(e,{className:"text-xl text-slate-50 "})}),n.jsxs("div",{className:"mx-3 w-56",children:[n.jsx("p",{className:"font-semibold",children:t}),n.jsx("p",{className:"text-sm",children:s}),n.jsxs("div",{className:"w-full flex justify-between mt-2",children:[n.jsx("button",{className:"transition-all ease-in-out grow my-1 mr-1 bg-slate-300 rounded-md hover:bg-slate-400",onClick:l,children:"Cancel"}),n.jsx("button",{className:`transition-all ease-in-out grow my-1 ml-1 bg-${a}-500 rounded-md hover:bg-${a}-600 text-slate-50`,onClick:o,children:r})]})]}),n.jsx(Fs,{className:"transition-all ease-in-out text-2xl hover:text-slate-500 cursor-pointer",onClick:l})]}),Bs=async e=>{const t={title:"",text:""},s=he("notes");v(["users/"+e.uid+"/notes/"+s],t)},Ds=()=>{const[e]=F(L),[t,s]=p.useState([]),[r,o]=p.useState([]),[l,a]=p.useState(0),[i,h]=p.useState(!1),[d,c]=p.useState(!1),f=p.useRef(null),j={title:b=>{x("title",b.target.value)},text:b=>{x("text",b.target.value)}},x=(b,g)=>{l!==void 0&&(o(S=>(S[b]=g,S)),v(["users/"+e.uid+"/notes/"+t[l][0]+"/"+b],g))};p.useEffect(()=>{e&&_(`users/${e.uid}/notes`,b=>{s(Object.entries(b||{}).map(g=>g))})},[e]),p.useEffect(()=>{t.length>1?a(t[t.length-1][1]):a(-1)},[t]),p.useEffect(()=>{l>=0&&t.length!==0&&o(t[l][1])},[l]);const m=()=>{f.current.focus()},w=()=>{t.length-2===l&&v(["users/"+e.uid+"/notes/lastOpen"],l-1);const b=t[l][0];v(["users/"+e.uid+"/notes/"+b],null),c(!1)};return n.jsxs(n.Fragment,{children:[d&&n.jsx(Ue,{Icon:_e,title:"Delete Confirmation",body:"Are you sure you want to delete the note?",buttonName:"Delete",trueCallback:w,falseCallback:()=>c(!1),color:"red"}),n.jsx("div",{className:"z-10 lg:h-5/6 lg:w-4/5 xl:w-3/5 h-full w-full lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-300",children:n.jsx("div",{className:"h-full w-full lg:mt-3 lg:ml-3 lg:p-3 lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-400 ",children:n.jsxs("div",{className:" flex h-full flex-col lg:flex-row overflow-hidden",children:[n.jsxs("div",{className:"bg-slate-50 w-screen lg:w-1/5 py-3 pl-2 lg:pr-2 rounded-none lg:rounded-xl lg:border-2 border-slate-800 lg:flex flex-col justify-between h-full z-10 lg:h-auto relative lg:static "+(i===!0?"visible lg:visible":"hidden lg:visible"),children:[n.jsx("div",{className:"overflow-y-scroll mr-3 lg:mr-0 grow h-full lg:h-auto mb-0 lg:mb-1",children:l>=0?t.map((b,g)=>{if(g!==t.length-1)return n.jsx("div",{className:`${g===l?"bg-slate-50 border-2 border-blue-300 drop-shadow-lg":"bg-slate-200 border-2 border-blue-50 hover:border-slate-300 hover:bg-slate-300"} px-2 py-1 rounded-lg mb-1`,style:{minHeight:"35px"},onClick:()=>{h(S=>!S),t.map((S,C)=>{g===C&&g!==t.length&&v(["users/"+e.uid+"/notes/lastOpen"],g)})},children:n.jsx("div",{style:{cursor:"pointer"},className:"user-select-none",children:b[1].title})},"note-"+g)}):t.length===0?"Loading...":"Tidak ada modul..."}),n.jsx("div",{className:"w-full z-40 bottom-4 absolute lg:static flex justify-end lg:justify-start pr-3 lg:pr-0 h-1/10 lg:h-auto items-center",children:n.jsx("div",{title:"Add note",className:"icon transition ease-out bg-blue-200 hover:bg-blue-300 border-2 border-blue-500",onClick:async()=>{h(!1),Bs(e),l>=0?await v(["users/"+e.uid+"/notes/lastOpen"],t.length-1):await v(["users/"+e.uid+"/notes/lastOpen"],0),m()},children:n.jsx(te,{style:{fontSize:"x-large"}})})})]}),n.jsx("div",{className:"rounded-none lg:rounded-lg lg:border-2 border-slate-800 bg-slate-50 ml-0 lg:ml-2 p-3 pt-2 grow",children:l>=0?n.jsxs("div",{className:"flex flex-col justify-between w-full h-full",children:[n.jsxs("div",{className:"flex justify-between mb-3 pb-1 border-b-2",children:[n.jsx("div",{children:n.jsx("div",{className:"visible lg:hidden text-xl hover:text-slate-400",onClick:()=>{h(b=>!b)},children:n.jsx(pe,{})})}),n.jsx("div",{title:"Delete note",onClick:()=>c(!0),children:n.jsx(ee,{className:"hover:text-red-700 cursor-pointer text-xl transition ease-out"})})]}),n.jsx(ge,{autoFocus:!0,spellCheck:!1,className:"resize-none transition ease-in-out bg-slate-50 focus:outline-none focus:border-none rounded-lg p-3 h-16 text-2xl",placeholder:"title",maxLength:44,rows:5,onChange:j.title,value:r.title,ref:f}),n.jsx("textarea",{className:"resize-none transition ease-in-out grow bg-slate-50 focus:outline-none focus:border-none rounded-lg p-3",placeholder:"note",spellCheck:!1,rows:5,maxLength:2e4,onChange:j.text,value:r.text})]}):n.jsx("div",{children:"..."})})]})})})]})},Ps=async e=>{const t={title:"",date:`${Ae().day}/${Ae().month}/${Ae().year}`,remembered:"",forgotten:"",questions:""},s=he("moduls");v(["users/"+e.uid+"/moduls/"+s],t)},zs=()=>{const[e]=F(L),[t,s]=p.useState([]),[r,o]=p.useState(0),[l,a]=p.useState(!1),[i,h]=p.useState([]),[d,c]=p.useState(!1),f=p.useRef(null),j={title:b=>{x("title",b.target.value)},remembered:b=>{x("remembered",b.target.value)},forgotten:b=>{x("forgotten",b.target.value)},questions:b=>{x("questions",b.target.value)}},x=(b,g)=>{r!==void 0&&(s(S=>({...S,[b]:g})),v(["users/"+e.uid+"/moduls/"+i[r][0]+"/"+b],g))},m=()=>{f.current.focus()},w=()=>{i.length-2===r&&v(["users/"+e.uid+"/moduls/lastOpen"],r-1);const b=i[r][0];v(["users/"+e.uid+"/moduls/"+b],null),a(!1)};return p.useEffect(()=>{e&&_(`users/${e.uid}/moduls`,b=>{h(Object.entries(b).map(g=>g))})},[e]),p.useEffect(()=>{i.length>1?o(i[i.length-1][1]):o(-1)},[i]),p.useEffect(()=>{r>=0&&i.length!==0&&s(i[r][1])},[r,i]),n.jsxs(n.Fragment,{children:[l&&n.jsx(Ue,{Icon:_e,title:"Delete Confirmation",body:"Are you sure you want to delete the note?",buttonName:"Delete",trueCallback:()=>w(),falseCallback:()=>a(!1),color:"red"}),n.jsx("div",{className:"z-10 lg:h-5/6 lg:w-11/12 xl:w-5/6 h-full w-full lg:border-2 border-slate-800 rounded-xl lg:bg-blue-300",children:n.jsx("div",{className:"h-full w-full lg:mt-3 lg:ml-3 lg:p-3 lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-400 ",children:n.jsxs("div",{className:"bg-slate-50 lg:bg-transparent flex-col overflow-x-hidden overflow-y-scroll lg:overflow-hidden lg:flex-row flex justify-between h-full",children:[n.jsxs("div",{className:"bg-slate-50 w-screen lg:w-1/5 py-3 pl-2 lg:pr-2 rounded-xl lg:border-2 border-slate-800 lg:flex flex-col justify-between h-full z-10 lg:h-auto absolute lg:static "+(d===!0?"visible lg:visible":"hidden lg:visible"),children:[n.jsx("div",{className:"overflow-y-scroll mr-3 lg:mr-0 grow h-9/10 lg:h-auto mb-0 lg:mb-1",children:r>=0?i.map((b,g)=>{if(g!==i.length-1)return n.jsx("div",{className:`${g===r?"bg-slate-50 border-2 border-blue-300 drop-shadow-lg":"bg-slate-200 border-2 border-blue-50 hover:border-slate-300 hover:bg-slate-300"} px-2 py-1 rounded-lg mb-1`,style:{minHeight:"35px"},onClick:()=>{c(S=>!S),i.map((S,C)=>{g===C&&g!==i.length&&v(["users/"+e.uid+"/moduls/lastOpen"],g)})},children:n.jsx("div",{style:{cursor:"pointer"},className:"user-select-none",children:b[1].title})},"modul-"+g)}):i.length===0?"Loading...":"Tidak ada modul..."}),n.jsx("div",{className:"w-full z-40 bottom-20 right-0 absolute lg:static flex justify-end lg:justify-start pr-3 lg:pr-0 h-1/10 lg:h-auto items-center",children:n.jsx("div",{title:"Add new module",className:"icon transition ease-out bg-blue-200 hover:bg-blue-300 border-2 border-blue-500",onClick:async()=>{c(!1),Ps(e),r>=0?await v(["users/"+e.uid+"/moduls/lastOpen"],i.length-1):await v(["users/"+e.uid+"/moduls/lastOpen"],0),m()},children:n.jsx(te,{})})})]}),n.jsx("div",{className:"grow rounded-xl h-full border-0 lg:border-2 border-slate-800 bg-slate-50 ml-0 lg:ml-2 p-3 pt-2 flex flex-col w-screen lg:w-auto",children:r>=0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between mb-3 pb-1 border-b-2 ",children:[!d&&n.jsx("div",{className:"visible lg:hidden text-xl hover:text-slate-400",onClick:()=>{c(b=>!b)},children:n.jsx(pe,{})}),n.jsx("div",{children:t.date}),n.jsx("div",{title:"Delete module",onClick:()=>{a(!0)},children:n.jsx(ee,{className:"hover:text-red-700 cursor-pointer text-xl transition ease-out"})})]}),n.jsxs("div",{className:"flex flex-col justify-between grow w-full lg:w-auto h-screen lg:h-auto",children:[n.jsx(ge,{autoFocus:!0,spellCheck:!1,className:"resize-none transition ease-in-out bg-slate-50 focus:outline-none focus:border-0 rounded-lg py-3 px-1 lg:px-3 h-16 text-2xl",placeholder:"Judul",maxLength:44,rows:5,onChange:j.title,value:t.title,ref:f}),n.jsx("label",{htmlFor:"remembered",className:"lg:ml-3 text-slate-400 font-semibold",children:"Hal yang diingat"}),n.jsx("textarea",{id:"remembered",className:"grow border-2 lg:border-0 mt-3 lg:mt-0 focus:border-slate-300 resize-none transition ease-in-out bg-slate-50 focus:outline-none rounded-lg px-3 py-2 lg:py-0 mr-2 lg:mr-0",placeholder:"...",spellCheck:!1,rows:5,maxLength:2e4,onChange:j.remembered,value:t.remembered})]})]}):n.jsx("div",{children:"..."})}),n.jsxs("div",{className:"min-h-screen lg:min-h-0 lg:h-full lg:w-4/12 p-0 flex justify-between flex-col mt-3 lg:mt-0 ml-0 lg:ml-2 lg:mr-0 gap-3 lg:px-0",children:[n.jsx("div",{className:"h-1/2 rounded-xl border-0 lg:border-2 border-slate-800 bg-slate-50 p-3 pt-1 flex flex-col",children:r>=0?n.jsxs(n.Fragment,{children:[n.jsx("label",{htmlFor:"forgotten",className:"text-lsm mt-1 text-slate-400 font-semibold",children:"Hal yang dilupa"}),n.jsx("textarea",{className:"grow border-2 lg:border-0 lg:mt-0 focus:border-slate-300 mt-1 resize-none transition ease-in-out bg-slate-50 focus:outline-none rounded-lg px-3 lg:px-0 py-2 lg:py-0",id:"forgotten",spellCheck:!1,placeholder:"...",onChange:j.forgotten,value:t.forgotten,maxLength:1e4,rows:5})]}):n.jsx("div",{children:"..."})}),n.jsx("div",{className:"h-1/2 rounded-xl border-0 lg:border-2 border-slate-800 bg-slate-50 p-3 pt-1 flex flex-col ",children:r>=0?n.jsxs(n.Fragment,{children:[n.jsx("label",{htmlFor:"questions",className:"text-lsm mt-1 text-slate-400 font-semibold",children:"Pertanyaan"}),n.jsx("textarea",{spellCheck:!1,id:"questions",placeholder:"...",className:"grow border-2 lg:border-0 lg:mt-0 mt-1 focus:border-slate-300 resize-none transition ease-in-out bg-slate-50 focus:outline-none rounded-lg px-3 lg:px-0 py-2 lg:py-0",rows:5,maxLength:5e3,onChange:j.questions,value:t.questions})]}):n.jsx("div",{children:"..."})})]})]})})})]})},nt=async(e,t,s=he("flashcard"))=>{const r={question:"",answer:""},o=await he("card");t(l=>[...l,[o,r]]),await v(["users/"+e.uid+"/flashcard/"+s+"/cards/"+o],r)},Hs=()=>{const[e]=F(L),[t,s]=p.useState([]),[r,o]=p.useState(""),[l,a]=p.useState([]),[i,h]=p.useState(0),[d,c]=p.useState([]),[f,j]=p.useState(!1),[x,m]=p.useState(!1),[w,b]=p.useState(!1),[g,S]=p.useState(!1),[C,D]=p.useState(-1),[Y,H]=p.useState(!1),oe=p.useRef(null),qt=()=>{t.length-2===i&&v(["users/"+e.uid+"/flashcard/lastOpen"],i-1);const y=t[i][0];v(["users/"+e.uid+"/flashcard/"+y],null),S(!1)};p.useEffect(()=>{e&&_(`users/${e.uid}/flashcard`,y=>{s(Object.entries(y).map(k=>k))})},[e]);const Ne={title:y=>{$t("title",y.target.value)},question:(y,k)=>{Ke(k,"question",y.target.value)},answer:(y,k)=>{Ke(k,"answer",y.target.value)}},$t=(y,k)=>{i!==void 0&&(o(k),v(["users/"+e.uid+"/flashcard/"+t[i][0]+"/"+y],k))},Ke=(y,k,A)=>{i!==void 0&&(a($=>$.map(X=>(X[0]===y&&(X[1][k]=A),X))),v(["users/"+e.uid+"/flashcard/"+t[i][0]+"/cards/"+y+"/"+k],A))};p.useEffect(()=>{t.length>1?h(t[t.length-1][1]):h(-1)},[t]),p.useEffect(()=>{i>=0&&t.length!==0&&(t[i][1].title!==void 0?o(t[i][1].title):o(""),t[i][1].cards!==void 0?a(Object.entries(t[i][1].cards)):a([]),c(t[i][0]))},[i]);const Vt=()=>{oe.current.focus()};return n.jsxs(n.Fragment,{children:[g&&n.jsx(Ue,{Icon:_e,title:"Delete Confirmation",body:"Are you sure you want to delete the note?",buttonName:"Delete",trueCallback:qt,falseCallback:()=>S(!1),color:"red"}),n.jsx("div",{className:"z-10 lg:h-5/6 lg:w-4/5 xl:w-3/5 h-full w-full lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-300 ",children:n.jsx("div",{className:"h-full w-full lg:mt-3 lg:ml-3 lg:p-3 lg:border-2 border-slate-800 rounded-xl lg:bg-blue-400 ",children:n.jsxs("div",{className:"flex h-full flex-col lg:flex-row overflow-y-scroll lg:overflow-hidden ",children:[!f&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-slate-50 w-screen lg:w-1/5 py-3 pl-2 lg:pr-2 rounded-xl lg:border-2 border-slate-800 lg:flex flex-col justify-between h-full z-10 lg:h-auto absolute lg:static "+(Y===!0?"visible lg:visible":"hidden lg:visible"),children:[n.jsx("div",{className:"overflow-y-scroll mr-3 lg:mr-0 grow h-9/10 lg:h-auto mb-0 lg:mb-1",children:i>=0?t.map((y,k)=>{if(k!==t.length-1)return n.jsx("div",{className:`${k===i?"bg-slate-50 border-2 border-blue-300 drop-shadow-lg":"bg-slate-200 border-2 border-blue-50 hover:border-slate-300 hover:bg-slate-300"} px-2 py-1 rounded-lg mb-1`,style:{minHeight:"35px"},onClick:()=>{H(A=>!A),t.map((A,$)=>{k===$&&k!==t.length&&v(["users/"+e.uid+"/flashcard/lastOpen"],k)})},children:n.jsx("div",{style:{cursor:"pointer"},className:"user-select-none",children:y[1].title})},"note-"+k)}):t.length===0?"Loading...":"Tidak ada modul..."}),n.jsx("div",{className:"w-full z-40 bottom-20 right-0 absolute lg:static flex justify-end lg:justify-start pr-3 lg:pr-0 h-1/10 lg:h-auto items-center",children:n.jsx("div",{title:"Add flashcard",className:"icon transition ease-out bg-blue-200 hover:bg-blue-300 border-2 border-blue-500 text-2xl",onClick:async()=>{H(!1),nt(e,a),i>=0?await v(["users/"+e.uid+"/flashcard/lastOpen"],t.length-1):await v(["users/"+e.uid+"/flashcard/lastOpen"],0),Vt()},children:n.jsx(te,{})})})]}),n.jsx("div",{className:"relative rounded-lg lg:border-2 border-slate-800 bg-slate-50 ml-0 lg:ml-2 p-3 pt-2 grow flex flex-col",children:i>=0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between mb-3 pb-1 border-b-2",children:[n.jsx("div",{title:"Delete flashcard",onClick:()=>{S(!0)},children:n.jsx(ee,{className:"hover:text-red-700 cursor-pointer transition ease-out text-xl"})}),!Y&&n.jsx("div",{className:"visible lg:hidden absolute left-0 right-0 m-auto flex justify-center w-7",children:n.jsx(pe,{className:" text-xl hover:text-slate-400",onClick:()=>{H(y=>!y)}})}),n.jsxs("div",{className:"flex align-items-center ",children:[n.jsx("div",{title:"Add card",className:"me-2",onClick:()=>{nt(e,a,d)},children:n.jsx(te,{className:"hover:text-slate-400 cursor-pointer transition ease-out text-2xl"})}),n.jsx("div",{title:"Start flashcard",onClick:()=>{j(y=>!y)},children:n.jsx(ns,{className:"hover:text-slate-400 cursor-pointer transition ease-out text-2xl"})})]})]}),n.jsx("div",{className:"w-full",children:n.jsx(ge,{autoFocus:!0,spellCheck:!1,className:"w-full resize-none overflow-hidden transition ease-in-out bg-slate-50 focus:outline-none focus:border-0 rounded-lg p-3 h-16 text-2xl",placeholder:"title",maxLength:44,rows:5,onChange:Ne.title,value:r,ref:oe})}),n.jsx("div",{className:"lg:overflow-y-scroll h-full",children:l!==null&&l.map((y,k)=>n.jsxs("div",{className:"flex justify-between w-100 mt-2",children:[n.jsx("div",{className:"me-2 pt-2 flex",children:n.jsx("p",{children:k+1})}),n.jsx("textarea",{className:"form-control p-2 hover:shadow-lg transition ease-out border-slate-300 focus:outline-none focus:border-slate-400 focus:shadow-md border-2 w-50 mr-1 h-44 grow rounded-md",spellCheck:!1,placeholder:"question",rows:5,maxLength:2e4,onChange:A=>{Ne.question(A,y[0])},value:y[1].question}),n.jsx("textarea",{className:"form-control p-2 hover:shadow-lg transition ease-out border-slate-300 focus:outline-none focus:border-slate-400 focus:shadow-md border-2 w-50 ms-1 h-44 grow rounded-md",spellCheck:!1,placeholder:"answer",rows:5,maxLength:2e4,onChange:A=>{Ne.answer(A,y[0])},value:y[1].answer}),n.jsx(ee,{className:"mt-1 ml-2 hover:text-red-700 cursor-pointer transition ease-out",onClick:()=>{l.map((A,$)=>{$===k&&(v("users/"+e.uid+"/flashcard/"+t[i][0]+"/cards/"+A[0],null),a(X=>X.filter((xn,Wt)=>Wt!==$)))})}})]},k))})]}):n.jsx("div",{children:"..."})})]}),f&&n.jsx(n.Fragment,{children:n.jsx("div",{className:"flex w-full h-full relative justify-center flex-col items-center rounded-none lg:rounded-xl border-0 lg:border-2 border-slate-800 bg-slate-50 p-3 pt-2",children:n.jsxs(n.Fragment,{children:[!x&&n.jsx("div",{className:"transition ease-in-out bg-blue-300 p-3 rounded-lg px-6 hover:bg-blue-400 cursor-pointer",onClick:()=>{D(0),m(!0)},children:n.jsx("p",{className:"font-bold text-3xl",children:"START"})}),x&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"absolute top-3 left-4 font-bold text-slate-500",children:[C+1," |"," ",w?"Answer":"Question"]}),n.jsx("div",{className:"grow flex justify-center items-center text-center",children:w?n.jsx("p",{className:"text-lg mx-4 mt-2",children:l&&C!==-1&&l[C][1].answer}):n.jsx("p",{className:"text-lg mx-4 mt-2",children:l&&C!==-1&&l[C][1].question})}),n.jsxs("div",{className:"flex justify-center mb-5 lg:mb-auto",children:[n.jsx(os,{className:"text-3xl text-slate-400 hover:text-slate-500 hover:shadow-md cursor-pointer transition ease-out",onClick:()=>{C>0&&(w&&b(y=>!y),D(y=>y-1))}}),n.jsx(ls,{className:"text-3xl text-slate-400 hover:text-slate-500 hover:shadow-md cursor-pointer transition ease-out mx-7",onClick:()=>b(y=>!y)}),n.jsx(as,{className:"text-3xl text-slate-400 hover:text-slate-500 hover:shadow-md cursor-pointer transition ease-out",onClick:()=>{C<l.length-1&&(w&&b(y=>!y),D(y=>y+1)),C>=l.length-1&&(m(y=>!y),j(y=>!y))}})]})]})]})})})]})})})]})};function yt(e){return M({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"}}]})(e)}function vt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Is}=Object.prototype,{getPrototypeOf:qe}=Object,be=(e=>t=>{const s=Is.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),B=e=>(e=e.toLowerCase(),t=>be(t)===e),xe=e=>t=>typeof t===e,{isArray:G}=Array,se=xe("undefined");function Ms(e){return e!==null&&!se(e)&&e.constructor!==null&&!se(e.constructor)&&O(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nt=B("ArrayBuffer");function _s(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nt(e.buffer),t}const Us=xe("string"),O=xe("function"),St=xe("number"),we=e=>e!==null&&typeof e=="object",qs=e=>e===!0||e===!1,ie=e=>{if(be(e)!=="object")return!1;const t=qe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$s=B("Date"),Vs=B("File"),Ws=B("Blob"),Js=B("FileList"),Ks=e=>we(e)&&O(e.pipe),Gs=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||O(e.append)&&((t=be(e))==="formdata"||t==="object"&&O(e.toString)&&e.toString()==="[object FormData]"))},Ys=B("URLSearchParams"),Xs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function re(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),G(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const l=s?Object.getOwnPropertyNames(e):Object.keys(e),a=l.length;let i;for(r=0;r<a;r++)i=l[r],t.call(null,e[i],i,e)}}function Ct(e,t){t=t.toLowerCase();const s=Object.keys(e);let r=s.length,o;for(;r-- >0;)if(o=s[r],t===o.toLowerCase())return o;return null}const kt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Et=e=>!se(e)&&e!==kt;function Pe(){const{caseless:e}=Et(this)&&this||{},t={},s=(r,o)=>{const l=e&&Ct(t,o)||o;ie(t[l])&&ie(r)?t[l]=Pe(t[l],r):ie(r)?t[l]=Pe({},r):G(r)?t[l]=r.slice():t[l]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&re(arguments[r],s);return t}const Zs=(e,t,s,{allOwnKeys:r}={})=>(re(t,(o,l)=>{s&&O(o)?e[l]=vt(o,s):e[l]=o},{allOwnKeys:r}),e),Qs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),er=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},tr=(e,t,s,r)=>{let o,l,a;const i={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)a=o[l],(!r||r(a,e,t))&&!i[a]&&(t[a]=e[a],i[a]=!0);e=s!==!1&&qe(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},sr=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},rr=e=>{if(!e)return null;if(G(e))return e;let t=e.length;if(!St(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},nr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qe(Uint8Array)),or=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},lr=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},ar=B("HTMLFormElement"),ir=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),ot=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),cr=B("RegExp"),Rt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};re(s,(o,l)=>{t(o,l,e)!==!1&&(r[l]=o)}),Object.defineProperties(e,r)},ur=e=>{Rt(e,(t,s)=>{if(O(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(O(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},dr=(e,t)=>{const s={},r=o=>{o.forEach(l=>{s[l]=!0})};return G(e)?r(e):r(String(e).split(t)),s},fr=()=>{},hr=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Te="abcdefghijklmnopqrstuvwxyz",lt="0123456789",Ot={DIGIT:lt,ALPHA:Te,ALPHA_DIGIT:Te+Te.toUpperCase()+lt},mr=(e=16,t=Ot.ALPHA_DIGIT)=>{let s="";const{length:r}=t;for(;e--;)s+=t[Math.random()*r|0];return s};function pr(e){return!!(e&&O(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const gr=e=>{const t=new Array(10),s=(r,o)=>{if(we(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const l=G(r)?[]:{};return re(r,(a,i)=>{const h=s(a,o+1);!se(h)&&(l[i]=h)}),t[o]=void 0,l}}return r};return s(e,0)},br=B("AsyncFunction"),xr=e=>e&&(we(e)||O(e))&&O(e.then)&&O(e.catch),u={isArray:G,isArrayBuffer:Nt,isBuffer:Ms,isFormData:Gs,isArrayBufferView:_s,isString:Us,isNumber:St,isBoolean:qs,isObject:we,isPlainObject:ie,isUndefined:se,isDate:$s,isFile:Vs,isBlob:Ws,isRegExp:cr,isFunction:O,isStream:Ks,isURLSearchParams:Ys,isTypedArray:nr,isFileList:Js,forEach:re,merge:Pe,extend:Zs,trim:Xs,stripBOM:Qs,inherits:er,toFlatObject:tr,kindOf:be,kindOfTest:B,endsWith:sr,toArray:rr,forEachEntry:or,matchAll:lr,isHTMLForm:ar,hasOwnProperty:ot,hasOwnProp:ot,reduceDescriptors:Rt,freezeMethods:ur,toObjectSet:dr,toCamelCase:ir,noop:fr,toFiniteNumber:hr,findKey:Ct,global:kt,isContextDefined:Et,ALPHABET:Ot,generateString:mr,isSpecCompliantForm:pr,toJSONObject:gr,isAsyncFn:br,isThenable:xr};function N(e,t,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o)}u.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const At=N.prototype,Tt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tt[e]={value:e}});Object.defineProperties(N,Tt);Object.defineProperty(At,"isAxiosError",{value:!0});N.from=(e,t,s,r,o,l)=>{const a=Object.create(At);return u.toFlatObject(e,a,function(h){return h!==Error.prototype},i=>i!=="isAxiosError"),N.call(a,e.message,t,s,r,o),a.cause=e,a.name=e.name,l&&Object.assign(a,l),a};const wr=null;function ze(e){return u.isPlainObject(e)||u.isArray(e)}function Lt(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function at(e,t,s){return e?e.concat(t).map(function(o,l){return o=Lt(o),!s&&l?"["+o+"]":o}).join(s?".":""):t}function jr(e){return u.isArray(e)&&!e.some(ze)}const yr=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function je(e,t,s){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=u.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!u.isUndefined(b[w])});const r=s.metaTokens,o=s.visitor||c,l=s.dots,a=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(o))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(u.isDate(m))return m.toISOString();if(!h&&u.isBlob(m))throw new N("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(m)||u.isTypedArray(m)?h&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,w,b){let g=m;if(m&&!b&&typeof m=="object"){if(u.endsWith(w,"{}"))w=r?w:w.slice(0,-2),m=JSON.stringify(m);else if(u.isArray(m)&&jr(m)||(u.isFileList(m)||u.endsWith(w,"[]"))&&(g=u.toArray(m)))return w=Lt(w),g.forEach(function(C,D){!(u.isUndefined(C)||C===null)&&t.append(a===!0?at([w],D,l):a===null?w:w+"[]",d(C))}),!1}return ze(m)?!0:(t.append(at(b,w,l),d(m)),!1)}const f=[],j=Object.assign(yr,{defaultVisitor:c,convertValue:d,isVisitable:ze});function x(m,w){if(!u.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(m),u.forEach(m,function(g,S){(!(u.isUndefined(g)||g===null)&&o.call(t,g,u.isString(S)?S.trim():S,w,j))===!0&&x(g,w?w.concat(S):[S])}),f.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return x(e),t}function it(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function $e(e,t){this._pairs=[],e&&je(e,this,t)}const Ft=$e.prototype;Ft.append=function(t,s){this._pairs.push([t,s])};Ft.toString=function(t){const s=t?function(r){return t.call(this,r,it)}:it;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function vr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bt(e,t,s){if(!t)return e;const r=s&&s.encode||vr,o=s&&s.serialize;let l;if(o?l=o(t,s):l=u.isURLSearchParams(t)?t.toString():new $e(t,s).toString(r),l){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Nr{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ct=Nr,Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sr=typeof URLSearchParams<"u"?URLSearchParams:$e,Cr=typeof FormData<"u"?FormData:null,kr=typeof Blob<"u"?Blob:null,Er=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Rr=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),T={isBrowser:!0,classes:{URLSearchParams:Sr,FormData:Cr,Blob:kr},isStandardBrowserEnv:Er,isStandardBrowserWebWorkerEnv:Rr,protocols:["http","https","file","blob","url","data"]};function Or(e,t){return je(e,new T.classes.URLSearchParams,Object.assign({visitor:function(s,r,o,l){return T.isNode&&u.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function Ar(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tr(e){const t={},s=Object.keys(e);let r;const o=s.length;let l;for(r=0;r<o;r++)l=s[r],t[l]=e[l];return t}function Pt(e){function t(s,r,o,l){let a=s[l++];const i=Number.isFinite(+a),h=l>=s.length;return a=!a&&u.isArray(o)?o.length:a,h?(u.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!i):((!o[a]||!u.isObject(o[a]))&&(o[a]=[]),t(s,r,o[a],l)&&u.isArray(o[a])&&(o[a]=Tr(o[a])),!i)}if(u.isFormData(e)&&u.isFunction(e.entries)){const s={};return u.forEachEntry(e,(r,o)=>{t(Ar(r),o,s,0)}),s}return null}const Lr={"Content-Type":void 0};function Fr(e,t,s){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const ye={transitional:Dt,adapter:["xhr","http"],transformRequest:[function(t,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,l=u.isObject(t);if(l&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return o&&o?JSON.stringify(Pt(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Or(t,this.formSerializer).toString();if((i=u.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return je(i?{"files[]":t}:t,h&&new h,this.formSerializer)}}return l||o?(s.setContentType("application/json",!1),Fr(t)):t}],transformResponse:[function(t){const s=this.transitional||ye.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(t&&u.isString(t)&&(r&&!this.responseType||o)){const a=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(a)throw i.name==="SyntaxError"?N.from(i,N.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};u.forEach(["delete","get","head"],function(t){ye.headers[t]={}});u.forEach(["post","put","patch"],function(t){ye.headers[t]=u.merge(Lr)});const Ve=ye,Br=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dr=e=>{const t={};let s,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),s=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!s||t[s]&&Br[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},ut=Symbol("internals");function Q(e){return e&&String(e).trim().toLowerCase()}function ce(e){return e===!1||e==null?e:u.isArray(e)?e.map(ce):String(e)}function Pr(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const zr=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Le(e,t,s,r,o){if(u.isFunction(r))return r.call(this,t,s);if(o&&(t=s),!!u.isString(t)){if(u.isString(r))return t.indexOf(r)!==-1;if(u.isRegExp(r))return r.test(t)}}function Hr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Ir(e,t){const s=u.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(o,l,a){return this[r].call(this,t,o,l,a)},configurable:!0})})}class ve{constructor(t){t&&this.set(t)}set(t,s,r){const o=this;function l(i,h,d){const c=Q(h);if(!c)throw new Error("header name must be a non-empty string");const f=u.findKey(o,c);(!f||o[f]===void 0||d===!0||d===void 0&&o[f]!==!1)&&(o[f||h]=ce(i))}const a=(i,h)=>u.forEach(i,(d,c)=>l(d,c,h));return u.isPlainObject(t)||t instanceof this.constructor?a(t,s):u.isString(t)&&(t=t.trim())&&!zr(t)?a(Dr(t),s):t!=null&&l(s,t,r),this}get(t,s){if(t=Q(t),t){const r=u.findKey(this,t);if(r){const o=this[r];if(!s)return o;if(s===!0)return Pr(o);if(u.isFunction(s))return s.call(this,o,r);if(u.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Q(t),t){const r=u.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Le(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let o=!1;function l(a){if(a=Q(a),a){const i=u.findKey(r,a);i&&(!s||Le(r,r[i],i,s))&&(delete r[i],o=!0)}}return u.isArray(t)?t.forEach(l):l(t),o}clear(t){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const l=s[r];(!t||Le(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const s=this,r={};return u.forEach(this,(o,l)=>{const a=u.findKey(r,l);if(a){s[a]=ce(o),delete s[l];return}const i=t?Hr(l):String(l).trim();i!==l&&delete s[l],s[i]=ce(o),r[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return u.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=t&&u.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[ut]=this[ut]={accessors:{}}).accessors,o=this.prototype;function l(a){const i=Q(a);r[i]||(Ir(o,a),r[i]=!0)}return u.isArray(t)?t.forEach(l):l(t),this}}ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.freezeMethods(ve.prototype);u.freezeMethods(ve);const P=ve;function Fe(e,t){const s=this||Ve,r=t||s,o=P.from(r.headers);let l=r.data;return u.forEach(e,function(i){l=i.call(s,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function zt(e){return!!(e&&e.__CANCEL__)}function ne(e,t,s){N.call(this,e??"canceled",N.ERR_CANCELED,t,s),this.name="CanceledError"}u.inherits(ne,N,{__CANCEL__:!0});function Mr(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new N("Request failed with status code "+s.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const _r=T.isStandardBrowserEnv?function(){return{write:function(s,r,o,l,a,i){const h=[];h.push(s+"="+encodeURIComponent(r)),u.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),u.isString(l)&&h.push("path="+l),u.isString(a)&&h.push("domain="+a),i===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(s){const r=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ur(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qr(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ht(e,t){return e&&!Ur(t)?qr(e,t):t}const $r=T.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let r;function o(l){let a=l;return t&&(s.setAttribute("href",a),a=s.href),s.setAttribute("href",a),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=o(window.location.href),function(a){const i=u.isString(a)?o(a):a;return i.protocol===r.protocol&&i.host===r.host}}():function(){return function(){return!0}}();function Vr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Wr(e,t){e=e||10;const s=new Array(e),r=new Array(e);let o=0,l=0,a;return t=t!==void 0?t:1e3,function(h){const d=Date.now(),c=r[l];a||(a=d),s[o]=h,r[o]=d;let f=l,j=0;for(;f!==o;)j+=s[f++],f=f%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),d-a<t)return;const x=c&&d-c;return x?Math.round(j*1e3/x):void 0}}function dt(e,t){let s=0;const r=Wr(50,250);return o=>{const l=o.loaded,a=o.lengthComputable?o.total:void 0,i=l-s,h=r(i),d=l<=a;s=l;const c={loaded:l,total:a,progress:a?l/a:void 0,bytes:i,rate:h||void 0,estimated:h&&a&&d?(a-l)/h:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}const Jr=typeof XMLHttpRequest<"u",Kr=Jr&&function(e){return new Promise(function(s,r){let o=e.data;const l=P.from(e.headers).normalize(),a=e.responseType;let i;function h(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}u.isFormData(o)&&(T.isStandardBrowserEnv||T.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.setContentType("multipart/form-data;",!1));let d=new XMLHttpRequest;if(e.auth){const x=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.set("Authorization","Basic "+btoa(x+":"+m))}const c=Ht(e.baseURL,e.url);d.open(e.method.toUpperCase(),Bt(c,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function f(){if(!d)return;const x=P.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:x,config:e,request:d};Mr(function(g){s(g),h()},function(g){r(g),h()},w),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new N("Request aborted",N.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new N("Network Error",N.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const w=e.transitional||Dt;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),r(new N(m,w.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,d)),d=null},T.isStandardBrowserEnv){const x=(e.withCredentials||$r(c))&&e.xsrfCookieName&&_r.read(e.xsrfCookieName);x&&l.set(e.xsrfHeaderName,x)}o===void 0&&l.setContentType(null),"setRequestHeader"in d&&u.forEach(l.toJSON(),function(m,w){d.setRequestHeader(w,m)}),u.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),a&&a!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",dt(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",dt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=x=>{d&&(r(!x||x.type?new ne(null,e,d):x),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const j=Vr(c);if(j&&T.protocols.indexOf(j)===-1){r(new N("Unsupported protocol "+j+":",N.ERR_BAD_REQUEST,e));return}d.send(o||null)})},ue={http:wr,xhr:Kr};u.forEach(ue,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gr={getAdapter:e=>{e=u.isArray(e)?e:[e];const{length:t}=e;let s,r;for(let o=0;o<t&&(s=e[o],!(r=u.isString(s)?ue[s.toLowerCase()]:s));o++);if(!r)throw r===!1?new N(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(u.hasOwnProp(ue,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!u.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ue};function Be(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ne(null,e)}function ft(e){return Be(e),e.headers=P.from(e.headers),e.data=Fe.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gr.getAdapter(e.adapter||Ve.adapter)(e).then(function(r){return Be(e),r.data=Fe.call(e,e.transformResponse,r),r.headers=P.from(r.headers),r},function(r){return zt(r)||(Be(e),r&&r.response&&(r.response.data=Fe.call(e,e.transformResponse,r.response),r.response.headers=P.from(r.response.headers))),Promise.reject(r)})}const ht=e=>e instanceof P?e.toJSON():e;function J(e,t){t=t||{};const s={};function r(d,c,f){return u.isPlainObject(d)&&u.isPlainObject(c)?u.merge.call({caseless:f},d,c):u.isPlainObject(c)?u.merge({},c):u.isArray(c)?c.slice():c}function o(d,c,f){if(u.isUndefined(c)){if(!u.isUndefined(d))return r(void 0,d,f)}else return r(d,c,f)}function l(d,c){if(!u.isUndefined(c))return r(void 0,c)}function a(d,c){if(u.isUndefined(c)){if(!u.isUndefined(d))return r(void 0,d)}else return r(void 0,c)}function i(d,c,f){if(f in t)return r(d,c);if(f in e)return r(void 0,d)}const h={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(d,c)=>o(ht(d),ht(c),!0)};return u.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=h[c]||o,j=f(e[c],t[c],c);u.isUndefined(j)&&f!==i||(s[c]=j)}),s}const It="1.4.0",We={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{We[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const mt={};We.transitional=function(t,s,r){function o(l,a){return"[Axios v"+It+"] Transitional option '"+l+"'"+a+(r?". "+r:"")}return(l,a,i)=>{if(t===!1)throw new N(o(a," has been removed"+(s?" in "+s:"")),N.ERR_DEPRECATED);return s&&!mt[a]&&(mt[a]=!0,console.warn(o(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(l,a,i):!0}};function Yr(e,t,s){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const l=r[o],a=t[l];if(a){const i=e[l],h=i===void 0||a(i,l,e);if(h!==!0)throw new N("option "+l+" must be "+h,N.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new N("Unknown option "+l,N.ERR_BAD_OPTION)}}const He={assertOptions:Yr,validators:We},I=He.validators;class me{constructor(t){this.defaults=t,this.interceptors={request:new ct,response:new ct}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=J(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:l}=s;r!==void 0&&He.assertOptions(r,{silentJSONParsing:I.transitional(I.boolean),forcedJSONParsing:I.transitional(I.boolean),clarifyTimeoutError:I.transitional(I.boolean)},!1),o!=null&&(u.isFunction(o)?s.paramsSerializer={serialize:o}:He.assertOptions(o,{encode:I.function,serialize:I.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a;a=l&&u.merge(l.common,l[s.method]),a&&u.forEach(["delete","get","head","post","put","patch","common"],m=>{delete l[m]}),s.headers=P.concat(a,l);const i=[];let h=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(h=h&&w.synchronous,i.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let c,f=0,j;if(!h){const m=[ft.bind(this),void 0];for(m.unshift.apply(m,i),m.push.apply(m,d),j=m.length,c=Promise.resolve(s);f<j;)c=c.then(m[f++],m[f++]);return c}j=i.length;let x=s;for(f=0;f<j;){const m=i[f++],w=i[f++];try{x=m(x)}catch(b){w.call(this,b);break}}try{c=ft.call(this,x)}catch(m){return Promise.reject(m)}for(f=0,j=d.length;f<j;)c=c.then(d[f++],d[f++]);return c}getUri(t){t=J(this.defaults,t);const s=Ht(t.baseURL,t.url);return Bt(s,t.params,t.paramsSerializer)}}u.forEach(["delete","get","head","options"],function(t){me.prototype[t]=function(s,r){return this.request(J(r||{},{method:t,url:s,data:(r||{}).data}))}});u.forEach(["post","put","patch"],function(t){function s(r){return function(l,a,i){return this.request(J(i||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}me.prototype[t]=s(),me.prototype[t+"Form"]=s(!0)});const de=me;class Je{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(o=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](o);r._listeners=null}),this.promise.then=o=>{let l;const a=new Promise(i=>{r.subscribe(i),l=i}).then(o);return a.cancel=function(){r.unsubscribe(l)},a},t(function(l,a,i){r.reason||(r.reason=new ne(l,a,i),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new Je(function(o){t=o}),cancel:t}}}const Xr=Je;function Zr(e){return function(s){return e.apply(null,s)}}function Qr(e){return u.isObject(e)&&e.isAxiosError===!0}const Ie={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ie).forEach(([e,t])=>{Ie[t]=e});const en=Ie;function Mt(e){const t=new de(e),s=vt(de.prototype.request,t);return u.extend(s,de.prototype,t,{allOwnKeys:!0}),u.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return Mt(J(e,o))},s}const E=Mt(Ve);E.Axios=de;E.CanceledError=ne;E.CancelToken=Xr;E.isCancel=zt;E.VERSION=It;E.toFormData=je;E.AxiosError=N;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=Zr;E.isAxiosError=Qr;E.mergeConfig=J;E.AxiosHeaders=P;E.formToJSON=e=>Pt(u.isHTMLForm(e)?new FormData(e):e);E.HttpStatusCode=en;E.default=E;const _t=E,tn=async e=>{const t="https://mejabelajardigital-rest-api.vercel.app/gpt/get-answer";return await _t.put(t,e).then(r=>r.data).catch(r=>r.response.data.body)},Ut=async(e,t,s,r,o)=>{if(r(""),s.length!==0){const l=[o,...t,{content:s,role:"user"}];await v(e,l);const a=await tn(l);a?v(e,[...l,a]):v(e,{role:"assistant",content:"error"})}},sn=()=>{const[e,t]=p.useState(""),[s,r]=p.useState(!1),[o,l]=p.useState([]),[a]=F(L),{isGeneratingGpt:i}=z(f=>f.isLoading),h=K();p.useEffect(()=>{a&&_(`users/${a.uid}/feynman`,f=>{l(Object.entries(f).slice(1).map(j=>j[1]))})},[a]);const d=f=>{t(f.target.value)},c={message:"flex justify-end mt-6 ml-12 mr-2",aiMessage:"flex justify-start mt-6 mr-12 ml-2"};return n.jsx("div",{className:"z-10 lg:h-5/6 lg:w-4/5 xl:w-3/5 h-full w-full lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-300",children:n.jsx("div",{className:"h-full w-full lg:mt-3 lg:ml-3 lg:p-3 lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-400",children:n.jsxs("div",{className:"flex h-full flex-col p-3 bg-slate-50 border-0 lg:border-2 border-slate-800 rounded-none lg:rounded-lg justify-between",children:[n.jsxs("div",{className:"grow overflow-y-scroll",children:[o.length>0?o.map((f,j)=>n.jsx("div",{className:f.role==="user"?c.message:c.aiMessage,children:n.jsxs("div",{className:"p-3 bg-blue-200 rounded-lg text-justify justify-end",children:[f.content.split(`
`).map((x,m)=>n.jsxs("div",{children:[x," ",n.jsx("br",{})]},m)),n.jsxs("div",{className:"transition-all ease-in-out m-1 shadow-sm hover:shadow-lg opacity-0 group-hover:opacity-100 absolute right-0 top-0 bg-slate-200/75 hover:bg-slate-100 p-1.5 rounded-md cursor-pointer",onClick:()=>{navigator.clipboard.writeText(f.content),r(!0),setTimeout(()=>{r(!1)},3e3)},children:[!s&&n.jsx(gt,{className:"text-slate-600"}),s&&n.jsx(bt,{className:"text-slate-600"})]})]})},"message-"+j)):n.jsx("div",{className:c.aiMessage,children:n.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:"what topic do you want to learn about?"})}),i&&n.jsx("div",{className:c.aiMessage,children:n.jsx("div",{className:"p-3 bg-blue-200 rounded-lg flex",children:n.jsx(yt,{className:"animate-spin"})})})]}),n.jsxs("div",{className:"flex items-end pt-2",children:[n.jsxs("button",{disabled:i,className:"group transition-all ease-out duration-700 w-14 h-14 rounded-full flex justify-center items-center bg-blue-300 border-2 border-blue-500 mr-2 hover:bg-blue-400 hover:drop-shadow-md "+(i?"opacity-60 cursor-not-allowed":"hover:w-36"),onClick:()=>{l([]),v(["users/"+a.uid+"/feynman"],[]),h(W(!1))},children:[n.jsx(xt,{className:"text-3xl"}),n.jsx("p",{className:"ml-2 hidden whitespace-nowrap "+(i?"":"group-hover:block"),children:"New topic"})]}),n.jsx("textarea",{autoFocus:!0,className:"transition-all ease-in-out grow h-14 border-2 focus:outline-none border-slate-300 rounded-lg p-2 focus:h-24 focus:shadow-md focus:border-slate-400 hover:shadow-md",placeholder:"search",maxLength:15e3,value:e,onKeyDown:f=>Me(f,e,async()=>{const j={content:"Your name is Digital Learning Desk. You are a tool for learning with the Feynman Technique. If at the beginning of the chat the user has not told you about the topic, you should ask what the topic is. If you already know what the topic is, now you should ask the user to explain what he knows about the topic. Then you will critique what the user said and don't forget to make questions to the user about the topic, so that the user can improve his long-term memory (you are like an innocent child and always ask questions about the topic being discussed and don't ask like this 'Do you have any questions?') or if it turns out that the user doesn't know anything about the topic. Repeat this step.",role:"system"};h(W(!0)),await Ut(["users/"+a.uid+"/feynman"],o,e,t,j),t(""),h(W(!1))}),onChange:d})]})]})})})},rn=()=>{const{playAudio:e}=z(s=>s.music),t=K();return n.jsxs("div",{className:"w-72 h-96 rounded-3xl border-2 border-slate-800 absolute bg-blue-400 z-30 p-4 flex justify-between flex-col lg:right-0 bottom-16 mr-1",children:[n.jsxs("div",{className:"items-center flex justify-between",children:[n.jsx("p",{className:"font-bold text-2xl ml-2",children:"Sound"}),e!=="stop"?n.jsx(le,{className:"text-3xl cursor-pointer",onClick:()=>t(U("stop"))}):n.jsx(ae,{className:"text-3xl cursor-pointer",onClick:()=>t(U("playLog"))})]}),n.jsxs("div",{className:"rounded-xl bg-blue-200 mb-3 pb-3 p-3  grow mt-5 flex flex-col gap-2",children:[n.jsx("p",{className:"bg-slate-50 hover:bg-slate-200 hover:shadow-sm transition-all ease-in-out rounded py-1 px-2 cursor-pointer",onClick:()=>t(U("rainSound")),children:"Rain"}),n.jsx("p",{className:"bg-slate-50 hover:bg-slate-200 hover:shadow-sm transition-all ease-in-out rounded py-1 px-2 cursor-pointer",onClick:()=>t(U("fireSound")),children:"Fire"}),n.jsx("p",{className:"bg-slate-50 hover:bg-slate-200 hover:shadow-sm transition-all ease-in-out rounded py-1 px-2 cursor-pointer",onClick:()=>t(U("beachSound")),children:"Beach"}),n.jsx("p",{className:"bg-slate-50 hover:bg-slate-200 hover:shadow-sm transition-all ease-in-out rounded py-1 px-2 cursor-pointer",onClick:()=>t(U("forestSound")),children:"Forest"}),n.jsx("p",{className:"bg-slate-50 hover:bg-slate-200 hover:shadow-sm transition-all ease-in-out rounded py-1 px-2 cursor-pointer",onClick:()=>t(U("cafeSound")),children:"Coffee"})]})]})},nn=()=>{const[e,t]=p.useState(""),[s,r]=p.useState([]),[o,l]=p.useState(!1),[a]=F(L),{isGeneratingGpt:i}=z(f=>f.isLoading),h=K();p.useEffect(()=>{a&&_(`users/${a.uid}/search`,f=>{f!==null&&r(Object.entries(f).slice(1).map(j=>j[1]))})},[a]);const d=f=>{t(f.target.value)},c={message:"flex justify-end mt-6 ml-12 mr-2",aiMessage:"flex justify-start mt-6 mr-12 ml-2 group"};return n.jsx("div",{className:"z-10 lg:h-5/6 lg:w-4/5 xl:w-3/5 h-full w-full lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-300",children:n.jsx("div",{className:"h-full w-full lg:mt-3 lg:ml-3 lg:p-3 lg:border-2 border-slate-800 rounded-none lg:rounded-xl lg:bg-blue-400",children:n.jsxs("div",{className:"flex h-full flex-col p-3 bg-slate-50 border-0 lg:border-2 border-slate-800 rounded-none lg:rounded-lg justify-between",children:[n.jsxs("div",{className:"grow overflow-y-scroll",children:[s.length>0?s.map((f,j)=>n.jsx("div",{className:f.role==="user"?c.message:c.aiMessage,children:n.jsxs("div",{className:"p-3 bg-blue-200 rounded-lg text-justify justify-end relative",children:[f.content.split(`
`).map((x,m)=>n.jsxs("div",{children:[x," ",n.jsx("br",{})]},m)),n.jsxs("div",{className:"transition-all ease-in-out m-1 shadow-sm hover:shadow-lg opacity-0 group-hover:opacity-100 absolute right-0 top-0 bg-slate-200/75 hover:bg-slate-100 p-1.5 rounded-md cursor-pointer",onClick:()=>{navigator.clipboard.writeText(f.content),l(!0),setTimeout(()=>{l(!1)},3e3)},children:[!o&&n.jsx(gt,{className:"text-slate-600"}),o&&n.jsx(bt,{className:"text-slate-600"})]})]})},"message-"+j)):n.jsx("div",{className:c.aiMessage,children:n.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:"what do you want to search?"})}),i&&n.jsx("div",{className:c.aiMessage,children:n.jsx("div",{className:"p-3 bg-blue-200 rounded-lg flex",children:n.jsx(yt,{className:"animate-spin"})})})]}),n.jsxs("div",{className:"flex items-end pt-2",children:[n.jsxs("button",{disabled:i,className:"group transition-all ease-out duration-700 w-14 h-14 rounded-full flex justify-center items-center bg-blue-300 border-2 border-blue-500 mr-2 hover:bg-blue-400 hover:drop-shadow-md "+(i?"opacity-60 cursor-not-allowed":"hover:w-36"),onClick:()=>{r([]),v(["users/"+a.uid+"/search"],[]),h(W(!1))},children:[n.jsx(xt,{className:"text-3xl"}),n.jsx("p",{className:"ml-2 hidden whitespace-nowrap "+(i?"":"group-hover:block"),children:"New topic"})]}),n.jsx("textarea",{autoFocus:!0,className:"transition-all ease-in-out grow h-14 border-2 focus:outline-none border-slate-300 rounded-lg p-2 focus:h-24 focus:shadow-md focus:border-slate-400 hover:shadow-md",placeholder:"search",maxLength:15e3,value:e,onKeyDown:f=>Me(f,e,async()=>{const j={content:"Your name is Meja Belajar Digital. You are a helpful search engine designed to assist students in their learning journey. But if someone asking 'what is meja belajar digital?', you have to answer with 'Meja Belajar Digital is an application that can facilitate students in learning independently effectively by utilizing existing technology, using several learning methods like Blurting, Feynman, and Flashcard method.'",role:"system"};h(W(!0)),await Ut(["users/"+a.uid+"/search"],s,e,t,j),t(""),h(W(!1))}),onChange:d})]})]})})})},on=()=>{const[e]=F(L),{pomodoroStatus:t,pomodoroDuration:s,shortBreakDuration:r,longBreakDuration:o,timeRemainingString:l}=z(i=>i.pomodoro),a=K();return n.jsxs("div",{className:"z-20 w-72 h-96 rounded-3xl border-2 border-slate-800 absolute bg-blue-400 p-4 flex justify-between flex-col lg:right-0 bottom-16 mr-1",children:[n.jsx("div",{className:"items-center flex justify-between",children:n.jsx("p",{className:"font-bold text-2xl ml-2",children:"Pomodoro"})}),n.jsxs("div",{className:"grow mt-3 h-75 w-full bg-blue-200 rounded-xl mb-4 pb-3 flex flex-col justify-between",children:[n.jsxs("div",{className:"w-full px-4 pt-3",children:[n.jsxs("p",{className:"flex justify-between",children:["Pomodoro duration",t!=="pomodoro"?n.jsx("button",{title:"Start pomodoro",disabled:t==="pomodoro",className:"bg-transparent border-0",onClick:()=>{a(q("pomodoro"))},children:n.jsx(ae,{className:"text-3xl"})}):n.jsx("button",{title:"Stop pomodoro",className:"bg-transparent border-0 ",onClick:()=>a(q("stop")),children:n.jsx(le,{className:"text-3xl"})})]}),n.jsx("input",{type:"number",name:"pomodoro-duration",id:"pomodoro-duration",className:"rounded border-2 focus:outline-none focus:border-blue-300 focus:shadow-md w-full px-2",value:s,onChange:i=>{v(["users/"+e.uid+"/pomodoro/pomodoroDuration"],Number(i.target.value))}})]}),n.jsxs("div",{className:"w-full px-4 pt-3",children:[n.jsxs("p",{className:"flex justify-between",children:["Short break",t!=="shortBreak"?n.jsx("button",{title:"Start short break",disabled:t==="shortBreak",className:"bg-transparent border-0 ",onClick:()=>{a(q("shortBreak"))},children:n.jsx(ae,{className:"text-3xl"})}):n.jsx("button",{title:"Stop short break",className:"bg-transparent border-0 ",onClick:()=>console.log("ResetTimer()"),children:n.jsx(le,{className:"text-3xl",onClick:()=>a(q("stop"))})})]}),n.jsx("input",{type:"number",name:"pomodoro-duration",id:"pomodoro-duration",className:"rounded border-2 focus:outline-none focus:border-blue-300 focus:shadow-md w-full px-2",value:r,onChange:i=>{v(["users/"+e.uid+"/pomodoro/shortBreak"],Number(i.target.value))}})]}),n.jsxs("div",{className:"w-full px-4 pt-3",children:[n.jsxs("p",{className:"flex justify-between",children:["Long break",t!=="longBreak"?n.jsx("button",{title:"Start long break",disabled:t==="longBreak",className:"bg-transparent border-0 ",onClick:()=>{a(q("longBreak"))},children:n.jsx(ae,{className:"text-3xl"})}):n.jsx("button",{title:"Stop long break",className:"bg-transparent border-0 ",onClick:()=>a(q("stop")),children:n.jsx(le,{className:"text-3xl"})})]}),n.jsx("input",{type:"number",name:"pomodoro-duration",id:"pomodoro-duration",className:"rounded border-2 focus:outline-none focus:border-blue-300 focus:shadow-md w-full px-2",value:o,onChange:i=>{v(["users/"+e.uid+"/pomodoro/longBreak"],Number(i.target.value))}})]})]}),n.jsxs("div",{className:"flex justify-center items-center",children:[n.jsx(is,{className:"mr-2"}),n.jsx("p",{className:"",children:l})]})]})},ln="/assets/rain-sound-421ad3f4.mp3",an="/assets/fireplace-sound-8ef138f6.mp3",cn="/assets/beach-sound-ef3e07b1.mp3",un="/assets/forest-sound-093b0459.mp3",dn="/assets/cafe-sound-6d42c158.mp3",fn=()=>{const[e]=F(L),[t,s]=p.useState(""),{playAudio:r,isPlaying:o}=z(i=>i.music),l=i=>{i==null||i.play()},a=()=>{document.querySelectorAll("audio").forEach(i=>i.pause())};return p.useEffect(()=>{e&&_(`users/${e.uid}/music/log`,i=>{s(i)})},[e]),p.useEffect(()=>{if(r==="stop")return a();if(r==="playLog"){a(),l(document.getElementById(t));return}a(),l(document.getElementById(r)),v(["users/"+e.uid+"/music/log"],r)},[r,t]),n.jsxs(n.Fragment,{children:[n.jsx("audio",{id:"rainSound",src:ln,loop:!0}),n.jsx("audio",{id:"fireSound",src:an,loop:!0}),n.jsx("audio",{id:"beachSound",src:cn,loop:!0}),n.jsx("audio",{id:"forestSound",src:un,loop:!0}),n.jsx("audio",{id:"cafeSound",src:dn,loop:!0})]})},hn=(e,t)=>{Notification.permission==="granted"?new Notification(e,{body:t}):Notification.permission!=="denied"&&Notification.requestPermission().then(s=>{s==="granted"&&new Notification(e,{body:t})})},mn=()=>{const[e]=F(L),t=p.useRef(0),s=p.useRef(0),r=p.useRef(null),o=p.useRef(""),l=p.useRef(""),{pomodoroStatus:a,pomodoroDuration:i,shortBreakDuration:h,longBreakDuration:d}=z(m=>m.pomodoro),c=K();p.useEffect(()=>{e&&_(`users/${e.uid}/pomodoro`,m=>{c(Yt(m.pomodoroDuration)),c(Xt(m.shortBreak)),c(Zt(m.longBreak))})},[e,c]),p.useEffect(()=>{if(a==="stop"){j(),x();return}a!=="stop"&&(clearInterval(r.current),a==="pomodoro"&&(s.current=i,o.current="Pomodoro Finished!",l.current="Pomodoro has finished. Let's get some break."),a==="shortBreak"&&(s.current=h,o.current="Short Break Finished!",l.current="Short Break has finished. Let's continue our study."),a==="longBreak"&&(s.current=d,o.current="Long Break Finished!",l.current="Long Break has finished. Let's continue our study"),r.current=setInterval(()=>{if(t.current>s.current*60){c(q("stop")),hn(o.current,l.current);return}else t.current<=s.current*60&&(c(Ge(t.current)),f(t.current),t.current++)},1e3))},[a,c]);const f=m=>{const w=Math.floor(m/60),b=m%60,g=`${w.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`;c(Gt(g))},j=()=>{clearInterval(r.current),r.current=null,c(Ge(0))},x=()=>{t.current=0,f(0)};return n.jsx(n.Fragment,{})},pn="pPmFJUY0HOZSXw2vYjtvaM2VAaKc1958_Xw-LKPwrNE",gn="https://api.unsplash.com/";_t.create({baseURL:gn,headers:{Authorization:`Client-ID ${pn}`}});function bn(e){return M({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 2l.642 .005l.616 .017l.299 .013l.579 .034l.553 .046c4.687 .455 6.65 2.333 7.166 6.906l.03 .29l.046 .553l.041 .727l.006 .15l.017 .617l.005 .642l-.005 .642l-.017 .616l-.013 .299l-.034 .579l-.046 .553c-.455 4.687 -2.333 6.65 -6.906 7.166l-.29 .03l-.553 .046l-.727 .041l-.15 .006l-.617 .017l-.642 .005l-.642 -.005l-.616 -.017l-.299 -.013l-.579 -.034l-.553 -.046c-4.687 -.455 -6.65 -2.333 -7.166 -6.906l-.03 -.29l-.046 -.553l-.041 -.727l-.006 -.15l-.017 -.617l-.004 -.318v-.648l.004 -.318l.017 -.616l.013 -.299l.034 -.579l.046 -.553c.455 -4.687 2.333 -6.65 6.906 -7.166l.29 -.03l.553 -.046l.727 -.041l.15 -.006l.617 -.017c.21 -.003 .424 -.005 .642 -.005zm0 13a1 1 0 0 0 -.993 .883l-.007 .117l.007 .127a1 1 0 0 0 1.986 0l.007 -.117l-.007 -.127a1 1 0 0 0 -.993 -.883zm1.368 -6.673a2.98 2.98 0 0 0 -3.631 .728a1 1 0 0 0 1.44 1.383l.171 -.18a.98 .98 0 0 1 1.11 -.15a1 1 0 0 1 -.34 1.886l-.232 .012a1 1 0 0 0 .111 1.994a3 3 0 0 0 1.371 -5.673z",strokeWidth:"0",fill:"currentColor"}}]})(e)}const En=()=>{const e=pt(),[t]=F(L);p.useState([]);const{toDoList:s,note:r,blurting:o,flashCard:l,feynman:a,music:i,search:h,pomodoro:d}=z(c=>c.home);return p.useEffect(()=>{t||e("/signin")},[t,e]),n.jsxs("div",{className:"home bg-slate-100 flex flex-col justify-between relative",children:[n.jsx(fn,{}),n.jsx(mn,{}),n.jsxs("div",{className:"absolute inset-0 z-0 "+(s||r||o||l||a?"hidden lg:block":""),children:[n.jsx(bn,{className:"absolute top-3 right-3 text-4xl text-slate-50/30 cursor-pointer hover:text-slate-50/70 transition-all ease-in-out",onClick:()=>{e("/help")},title:"Help"}),n.jsx("img",{src:"https://picsum.photos/1920/1080",alt:"wallpaper",className:"w-full h-full hidden lg:block"}),n.jsx("img",{src:"https://picsum.photos/1080/1920",alt:"wallpaper",className:"w-full h-full block lg:hidden"})]}),n.jsxs("div",{className:"grow flex justify-center items-center w-full overflow-hidden",children:[s&&n.jsx(Ls,{}),r&&n.jsx(Ds,{}),o&&n.jsx(zs,{}),l&&n.jsx(Hs,{}),a&&n.jsx(sn,{}),i&&n.jsx(rn,{}),h&&n.jsx(nn,{}),d&&n.jsx(on,{})]}),n.jsx(ps,{})]})};export{En as default};
