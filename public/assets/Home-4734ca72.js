import{R as ae,u as Dt,c as zt,a as L,j as u,b as D,r as O,d as z,g as Ht,s as $t,e as k,f as jt,h as ze,i as He,k as $e,l as Yt,m as Qt,n as Jt,o as W}from"./index-6642e6b0.js";import{u as x,r as H,g as $,o as Y,n as se,t as ue}from"./Database-4b688222.js";function Ot(e=ae){const t=e===ae?Dt:zt(e);return function(){const{store:a}=t();return a}}const Gt=Ot();function Kt(e=ae){const t=e===ae?Gt:Ot(e);return function(){return t().dispatch}}const xt=Kt();var yt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ye=L.createContext&&L.createContext(yt),M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},M.apply(this,arguments)},Wt=globalThis&&globalThis.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};function At(e){return e&&e.map(function(t,i){return L.createElement(t.tag,M({key:i},t.attr),At(t.child))})}function R(e){return function(t){return L.createElement(Xt,M({attr:M({},e.attr)},t),At(e.child))}}function Xt(e){var t=function(i){var a=e.attr,l=e.size,f=e.title,c=Wt(e,["attr","size","title"]),s=l||i.size||"1em",n;return i.className&&(n=i.className),e.className&&(n=(n?n+" ":"")+e.className),L.createElement("svg",M({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,c,{className:n,style:M(M({color:e.color||i.color},i.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),f&&L.createElement("title",null,f),e.children)};return Ye!==void 0?L.createElement(Ye.Consumer,null,function(i){return t(i)}):t(yt)}function Zt(e){return R({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"}}]})(e)}function ea(e){return R({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function ta(e){return R({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z"}}]})(e)}function aa(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12zm-4.5-6.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5a.5.5 0 0 0 0-1z"}}]})(e)}function sa(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z"}}]})(e)}function X(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"}}]})(e)}function Z(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(e)}function ra(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}},{tag:"path",attr:{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"}}]})(e)}function na(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}},{tag:"path",attr:{d:"M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"}}]})(e)}function ia(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}]})(e)}function oa(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"}},{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"}}]})(e)}function la(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z"}}]})(e)}function ca(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(e)}function G(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}}]})(e)}function Be(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}function da(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.5 2a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5zm-2 2a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zm-6 1.5A.5.5 0 0 1 5 6v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm8 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm-10 1A.5.5 0 0 1 3 7v2a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5zm12 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5z"}}]})(e)}function re(e){return R({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}}]})(e)}const ua=({setToDoList:e,toDoList:t,setNote:i,note:a,setBlurting:l,blurting:f,setFlashCard:c,flashCard:s,setFeynman:n,feynman:d,setMusic:o,music:r,setSearch:h,search:m,setPomodoro:p,pomodoro:v})=>{const b=({section:j})=>u.jsx("div",{className:"icon user-select-none",onClick:()=>{switch(j){case"home":e(!1),i(!1),l(!1),n(!1),c(!1),o(!1),h(!1),p(!1);break;case"todolist":e(t===!1),i(!1),l(!1),n(!1),c(!1),o(!1),h(!1),p(!1);break;case"note":i(a===!1),e(!1),l(!1),n(!1),c(!1),o(!1),h(!1),p(!1);break;case"blurting":l(f===!1),e(!1),i(!1),n(!1),c(!1),o(!1),h(!1),p(!1);break;case"flashcard":c(s===!1),e(!1),i(!1),l(!1),n(!1),o(!1),h(!1),p(!1);break;case"feynman":n(d===!1),e(!1),i(!1),l(!1),c(!1),o(!1),h(!1),p(!1);break;case"music":o(r===!1),p(!1);break;case"search":h(m===!1),e(!1),i(!1),l(!1),n(!1),c(!1),o(!1),p(!1);break}},children:j==="home"?u.jsx(ia,{className:"icon-size"}):j==="todolist"?u.jsx(ea,{className:"icon-size"}):j==="note"?u.jsx(ta,{className:"icon-size"}):j==="blurting"?u.jsx(la,{className:"icon-size"}):j==="flashcard"?u.jsx(na,{className:"icon-size"}):j==="feynman"?u.jsx(Zt,{className:"icon-size"}):j==="music"?u.jsx(da,{className:"icon-size"}):j==="search"?u.jsx(Be,{className:"icon-size"}):null});return u.jsx("div",{className:"footer-container",children:u.jsxs("div",{className:"icon-container",children:[u.jsx("div",{className:"left",children:u.jsx(b,{section:"home"})}),u.jsxs("div",{className:"center",children:[u.jsx(b,{section:"todolist"}),u.jsx(b,{section:"note"}),u.jsx(b,{section:"blurting"}),u.jsx(b,{section:"flashcard"}),u.jsx(b,{section:"feynman"})]}),u.jsxs("div",{className:"right",children:[u.jsx(b,{section:"search"}),u.jsx(b,{section:"music"}),u.jsx("div",{className:"pomodoro",onClick:()=>{p(v===!1),o(!1)},children:u.jsx("div",{className:"user-select-none",children:"25:00"})})]})]})})},ha=({tasks:e,index:t,user:i,setTasks:a})=>e.length!==0&&u.jsxs("div",{className:"border-bottom fs-5 task",children:[u.jsxs("div",{className:"d-flex ",children:[u.jsx("input",{type:"checkbox",className:"me-3 checkbox",checked:e[t].checked,defaultChecked:!1,onChange:()=>x(`users/${i.uid}/tasks/${t}/checked`,!e[t].checked)}),u.jsx("p",{className:e[t].checked?"selected":"unselected",children:e[t].task})]}),u.jsxs("svg",{onClick:()=>{e.splice(t,1),x(`users/${i.uid}/tasks/`,e),e.length===0&&a([])},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-trash mt-1 trash",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"}),u.jsx("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"})]})]});const fa=(e,t)=>{const i=l=>{t(l)},a=H($(),e);Y(a,l=>{if(l.val()!==null){let f=Object.entries(l.val()).map(c=>c[1]);i(f)}})},ma=()=>{const[e]=D(z),[t,i]=O.useState([]);O.useEffect(()=>{fa(`users/${e.uid}/tasks`,s=>{i(s)})},[]);const[a,l]=O.useState(""),f=s=>{l(s.target.value)},c=()=>{const s=Ht();$t(s).then(()=>{alert("Sign-out success!")}).catch(n=>{alert(n)})};return u.jsx("div",{className:"regular-size shadow",children:u.jsx("div",{className:"regular-size p-3",children:u.jsxs("div",{className:"rounded-3 border border-2 border-black bg-white-dark content-1 p-3 position-relative",children:[u.jsxs("div",{className:"d-flex",children:[u.jsx("h1",{className:"fw-bold ms-2",children:"To Do List"}),u.jsxs("svg",{onClick:()=>c(),xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-box-arrow-left mt-1 position-absolute end-0 me-4",viewBox:"0 0 16 16",children:[u.jsx("path",{fillRule:"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"}),u.jsx("path",{fillRule:"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"})]})]}),u.jsx("div",{className:"container",children:t.length!==0?t.map((s,n)=>u.jsx(ha,{tasks:t,index:n,user:e,setTasks:i},n)):u.jsx("div",{children:"Tidak ada task"})}),u.jsxs("div",{className:"new-task-container d-flex justify-content-evenly align-items-center",children:[u.jsx("input",{type:"text",className:"form-control input-task",placeholder:"New Task",onChange:f,value:a}),u.jsx("button",{className:"icon icon-plus-todolist",onClick:()=>{x(`users/${e.uid}/tasks`,[...t,{task:a,checked:!1}]),l("")},children:u.jsx(G,{})})]})]})})})};const pa=async e=>{const t={title:"",text:""},i=se("notes");x(["users/"+e.uid+"/notes/"+i],t)},va=(e,t)=>{const i=l=>{t(l)},a=H($(),e);Y(a,l=>{if(l.val()){let f=Object.entries(l.val()).map(c=>c);i(f)}})},ba=async(e,t,i)=>{const a=t[i][0];x(["users/"+e.uid+"/notes/"+a],null)},ga=()=>{const[e]=D(z),[t,i]=O.useState([]),[a,l]=O.useState([]),[f,c]=O.useState(0),s=O.useRef(null),n={title:o=>{f!==void 0&&(l(r=>(r.title=o.target.value,r)),x(["users/"+e.uid+"/notes/"+t[f][0]+"/title"],o.target.value))},text:o=>{f!==void 0&&(l(r=>(r.text=o.target.value,r)),x(["users/"+e.uid+"/notes/"+t[f][0]+"/text"],o.target.value))}};O.useEffect(()=>{va(`users/${e.uid}/notes`,o=>{i(o)})},[]),O.useEffect(()=>{t.length>1?c(t[t.length-1][1]):c(-1)},[t]),O.useEffect(()=>{f>=0&&t.length!==0&&l(t[f][1])},[f]);const d=()=>{s.current.focus()};return u.jsx("div",{className:"regular-size shadow",children:u.jsx("div",{className:"regular-size",children:u.jsxs("div",{className:"row d-flex justify-content-between p-3 ps-4 pe-4",children:[u.jsxs("div",{className:"d-flex justify-content-between flex-column col-3 rounded-3 border border-2 border-black bg-white-dark content-1 p-2",children:[u.jsx("div",{children:f>=0?t.map((o,r)=>{if(r!==t.length-1)return u.jsx("div",{className:`${r===f?"bg-white-clicked":"bg-white-unclicked"} px-2 py-1 rounded-3 border border-2 border-dark mb-1`,style:{minHeight:"35px"},onClick:()=>{t.map((h,m)=>{r===m&&r!==t.length&&x(["users/"+e.uid+"/notes/lastOpen"],r)})},children:u.jsx("div",{style:{cursor:"pointer"},className:"user-select-none",children:o[1].title})},"note-"+r)}):t.length===0?"Loading...":"Tidak ada modul..."}),u.jsx("div",{className:"icon",onClick:async()=>{pa(e),f>=0?await x(["users/"+e.uid+"/notes/lastOpen"],t.length-1):await x(["users/"+e.uid+"/notes/lastOpen"],0),d()},children:u.jsx(G,{style:{fontSize:"x-large"}})})]}),u.jsx("div",{className:"col rounded-3 border border-2 border-black bg-white content-1 ms-2 p-3 pt-2",children:f>=0?u.jsxs("div",{children:[u.jsxs("div",{className:"d-flex justify-content-between mb-3 pb-1 border-bottom",children:[u.jsx("div",{}),u.jsx("div",{onClick:()=>{t.length-2===f&&x(["users/"+e.uid+"/notes/lastOpen"],f-1),ba(e,t,f)},children:u.jsx(re,{style:{fontSize:"22px"}})})]}),u.jsx("div",{children:u.jsx("textarea",{autoFocus:!0,className:"form-control fs-4 mb-1",placeholder:"title",maxLength:44,id:"floatingTextarea2",rows:5,onChange:n.title,value:a.title,ref:s})}),u.jsx("div",{className:"form-remembered",children:u.jsx("textarea",{className:"form-control",placeholder:"note",id:"floatingTextarea2",rows:5,maxLength:2e4,onChange:n.text,value:a.text})})]}):u.jsx("div",{children:"..."})})]})})})};const ja=(e,t)=>{const i=l=>{t(l)},a=H($(),e);Y(a,l=>{if(l.val()){let f=Object.entries(l.val()).map((c,s)=>c);i(f)}})},Oa=async e=>{const t={title:"",date:`${ue().day}/${ue().month}/${ue().year}`,remembered:"",forgotten:"",questions:""},i=se("moduls");x(["users/"+e.uid+"/moduls/"+i],t)},xa=async(e,t,i)=>{const a=t[i][0];x(["users/"+e.uid+"/moduls/"+a],null)},ya=()=>{const[e]=D(z),[t,i]=O.useState([]),[a,l]=O.useState(0),f=O.useRef(null),[c,s]=O.useState([]),n={title:o=>{a!==void 0&&(i(r=>(r.title=o.target.value,r)),x(["users/"+e.uid+"/moduls/"+c[a][0]+"/title"],o.target.value))},remembered:o=>{a!==void 0&&(i(r=>(r.remembered=o.target.value,r)),x(["users/"+e.uid+"/moduls/"+c[a][0]+"/remembered"],o.target.value))},forget:o=>{a!==void 0&&(i(r=>(console.log(r),r.forgotten=o.target.value,r)),x(["users/"+e.uid+"/moduls/"+c[a][0]+"/forgotten"],o.target.value))},questions:o=>{a!==void 0&&(i(r=>(r.questions=o.target.value,r)),x(["users/"+e.uid+"/moduls/"+c[a][0]+"/questions"],o.target.value))}},d=()=>{f.current.focus()};return O.useEffect(()=>{ja(`users/${e.uid}/moduls`,o=>{s(o)})},[]),O.useEffect(()=>{c.length>1?l(c[c.length-1][1]):l(-1)},[c]),O.useEffect(()=>{a>=0&&c.length!==0&&i(c[a][1])},[a]),u.jsx("div",{className:"full-size shadow",children:u.jsx("div",{className:"full-size",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"row d-flex justify-content-between p-3",children:[u.jsxs("div",{className:"d-flex justify-content-between flex-column col-2 rounded-3 border border-2 border-black bg-white-dark content-1 p-2",children:[u.jsx("div",{children:a>=0?c.map((o,r)=>{if(r!==c.length-1)return u.jsx("div",{className:`${r===a?"bg-white-clicked":"bg-white-unclicked"} px-2 py-1 rounded-3 border border-2 border-dark mb-1`,style:{minHeight:"35px"},onClick:()=>{c.map((h,m)=>{r===m&&r!==c.length&&x(["users/"+e.uid+"/moduls/lastOpen"],r)})},children:u.jsx("div",{style:{cursor:"pointer"},className:"user-select-none",children:o[1].title})},"modul-"+r)}):c.length===0?"Loading...":"Tidak ada modul..."}),u.jsx("div",{className:"icon",onClick:async()=>{Oa(e),a>=0?await x(["users/"+e.uid+"/moduls/lastOpen"],c.length-1):await x(["users/"+e.uid+"/moduls/lastOpen"],0),d()},children:u.jsx(G,{style:{fontSize:"x-large"}})})]}),u.jsx("div",{className:"col rounded-3 border border-2 border-black bg-white content-1 ms-2 p-3 pt-2",children:a>=0?u.jsxs("div",{children:[u.jsxs("div",{className:"d-flex justify-content-between mb-3 pb-1 border-bottom",children:[u.jsx("div",{children:t.date}),u.jsx("div",{onClick:()=>{c.length-2===a&&x(["users/"+e.uid+"/moduls/lastOpen"],a-1),xa(e,c,a)},children:u.jsx(re,{style:{fontSize:"22px"}})})]}),u.jsx("div",{children:u.jsx("textarea",{autoFocus:!0,className:"form-control fs-4 mb-1",placeholder:"Judul",maxLength:44,id:"floatingTextarea2",rows:5,onChange:n.title,value:t.title,ref:f})}),u.jsxs("div",{className:"form-floating form-remembered",children:[u.jsx("textarea",{className:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",rows:5,maxLength:2e4,onChange:n.remembered,value:t.remembered}),u.jsx("label",{htmlFor:"floatingTextarea2",children:"Hal yang diingat"})]})]}):u.jsx("div",{children:"..."})}),u.jsxs("div",{className:"col-4 content-1 p-0 d-flex justify-content-between flex-column ms-2",children:[u.jsx("div",{className:" rounded-3 border border-2 border-black bg-white content-2 p-3 pt-1",children:a>=0?u.jsxs("div",{className:"form-floating form-forget pb-1 mt-3",children:[u.jsx("textarea",{className:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",onChange:n.forget,value:t.forgotten,maxLength:1e4,rows:5}),u.jsx("label",{htmlFor:"floatingTextarea2",children:"Hal yang dilupa"})]}):u.jsx("div",{children:"..."})}),u.jsx("div",{className:" rounded-3 border border-2 border-black bg-white content-2 p-3 pt-1",children:a>=0?u.jsxs("div",{className:"form-floating form-forget pb-1 mt-3",children:[u.jsx("textarea",{className:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",rows:5,maxLength:5e3,onChange:n.questions,value:t.questions}),u.jsx("label",{htmlFor:"floatingTextarea2",children:"Pertanyaan"})]}):u.jsx("div",{children:"..."})})]})]})})})})};const Qe=async(e,t,i=se("flashcard"))=>{const a={question:"",answer:""},l=await se("card");t(f=>[...f,[l,a]]),await x(["users/"+e.uid+"/flashcard/"+i+"/cards/"+l],a)},Aa=(e,t)=>{const i=l=>{t(l)},a=H($(),e);Y(a,l=>{if(l.val()){let f=Object.entries(l.val()).map(c=>c);i(f)}})},Sa=async(e,t,i)=>{const a=t[i][0];x(["users/"+e.uid+"/flashcard/"+a],null)},wa=()=>{const[e]=D(z),[t,i]=O.useState([]),[a,l]=O.useState(""),[f,c]=O.useState([]),[s,n]=O.useState(0),[d,o]=O.useState([]),[r,h]=O.useState(!1),[m,p]=O.useState(!1),[v,b]=O.useState(!1),[j,S]=O.useState(-1),A=O.useRef(null),g={title:y=>{s!==void 0&&(l(y.target.value),x(["users/"+e.uid+"/flashcard/"+t[s][0]+"/title"],y.target.value))},question:(y,P)=>{s!==void 0&&(c(V=>V.map(T=>(T[0]===P&&(T[1].question=y.target.value),T))),x(["users/"+e.uid+"/flashcard/"+t[s][0]+"/cards/"+P+"/question"],y.target.value))},answer:(y,P)=>{s!==void 0&&(c(V=>V.map(T=>(T[0]===P&&(T[1].answer=y.target.value),T))),x(["users/"+e.uid+"/flashcard/"+t[s][0]+"/cards/"+P+"/answer"],y.target.value))}};O.useEffect(()=>{Aa(`users/${e.uid}/flashcard`,y=>{i(y)})},[]),O.useEffect(()=>{t.length>1?n(t[t.length-1][1]):n(-1)},[t]),O.useEffect(()=>{s>=0&&t.length!==0&&(t[s][1].title!==void 0?l(t[s][1].title):l(""),t[s][1].cards!==void 0?c(Object.entries(t[s][1].cards)):c([]),o(t[s][0]))},[s]);const C=()=>{A.current.focus()};return u.jsx("div",{className:"regular-size shadow",children:u.jsxs("div",{className:"regular-size position-relative",children:[u.jsxs("div",{className:" align-items-center row d-flex justify-content-center p-3 ps-4 pe-4",children:[!r&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"d-flex justify-content-between flex-column col-3 rounded-3 border border-2 border-black bg-white-dark content-1 p-2",children:[u.jsx("div",{children:s>=0?t.map((y,P)=>{if(P!==t.length-1)return u.jsx("div",{className:`${P===s?"bg-white-clicked":"bg-white-unclicked"} px-2 py-1 rounded-3 border border-2 border-dark mb-1`,style:{minHeight:"35px"},onClick:()=>{t.map((V,T)=>{P===T&&P!==t.length&&x(["users/"+e.uid+"/flashcard/lastOpen"],P)})},children:u.jsx("div",{style:{cursor:"pointer"},className:"user-select-none",children:y[1].title})},"note-"+P)}):t.length===0?"Loading...":"Tidak ada modul..."}),u.jsx("div",{className:"icon",onClick:async()=>{Qe(e,c),s>=0?await x(["users/"+e.uid+"/flashcard/lastOpen"],t.length-1):await x(["users/"+e.uid+"/flashcard/lastOpen"],0),C()},children:u.jsx(G,{style:{fontSize:"x-large"}})})]}),u.jsx("div",{className:"col rounded-3 border border-2 border-black bg-white content-1 ms-2 p-3 pt-2",children:s>=0?u.jsxs("div",{children:[u.jsxs("div",{className:"d-flex justify-content-between mb-3 pb-1 border-bottom",children:[u.jsx("div",{onClick:()=>{t.length-2===s&&x(["users/"+e.uid+"/flashcard/lastOpen"],s-1),Sa(e,t,s)},children:u.jsx(re,{style:{fontSize:"22px"}})}),u.jsxs("div",{className:"d-flex align-items-center ",children:[u.jsx("div",{className:"me-2",onClick:()=>{Qe(e,c,d)},children:u.jsx(G,{style:{fontSize:"x-large"}})}),u.jsx("div",{onClick:()=>{h(y=>!y)},children:u.jsx(ca,{style:{fontSize:"x-large"}})})]})]}),u.jsx("div",{children:u.jsx("textarea",{autoFocus:!0,className:"form-control fs-4 mb-1",placeholder:"title",maxLength:44,id:"floatingTextarea2",rows:5,onChange:g.title,value:a,ref:A})}),u.jsx("div",{className:"overflow-scroll",style:{height:"55vh"},children:f!==null&&f.map((y,P)=>u.jsxs("div",{className:"d-flex justify-content-between w-100 mt-2",children:[u.jsx("div",{className:"me-2 pt-2 d-flex",children:u.jsx("p",{children:P+1})}),u.jsx("textarea",{className:"form-control border-dark-subtle border border-1 w-50 me-2",placeholder:"note",style:{height:"20vh"},id:"floatingTextarea2",rows:5,maxLength:2e4,onChange:V=>{g.question(V,y[0])},value:y[1].question}),u.jsx("textarea",{className:"form-control border-dark-subtle border border-1 w-50 ms-2",style:{height:"20vh"},placeholder:"note",id:"floatingTextarea2",rows:5,maxLength:2e4,onChange:V=>{g.answer(V,y[0])},value:y[1].answer}),u.jsx(re,{className:"mt-1 ms-2",onClick:()=>{f.map((V,T)=>{T===P&&(x("users/"+e.uid+"/flashcard/"+t[s][0]+"/cards/"+V[0],null),c(F=>F.filter((I,U)=>U!==T)))})}})]},P))})]}):u.jsx("div",{children:"..."})})]}),r&&u.jsx(u.Fragment,{children:u.jsx("div",{className:"d-flex w-100 justify-content-center flex-column align-items-center rounded-3 border border-2 border-black bg-white content-1 p-3 pt-2",children:u.jsxs("div",{children:[!m&&u.jsx("div",{className:"btn",onClick:()=>{S(0),p(y=>!y)},children:u.jsx("p",{className:"fs-1 fw-bolder mx-4 mt-2",children:"START"})}),m&&u.jsx("div",{children:v?u.jsx("p",{className:"fs-3 mx-4 mt-2",children:f&&j!==-1&&f[j][1].answer}):u.jsx("p",{className:"fs-3 mx-4 mt-2",children:f&&j!==-1&&f[j][1].question})})]})})})]}),m&&u.jsxs("div",{className:"d-flex justify-content-center",style:{marginTop:"-10vh"},children:[u.jsx(aa,{className:"fs-1 me-4",onClick:()=>{j>0&&(v&&b(y=>!y),S(y=>y-1))}}),u.jsx(ra,{className:"fs-1 me-4",onClick:()=>b(y=>!y)}),u.jsx(sa,{className:"fs-1",onClick:()=>{j<f.length-1&&(v&&b(y=>!y),S(y=>y+1)),j>=f.length-1&&(p(y=>!y),h(y=>!y))}})]})]})})};var _e={},St={},Ue={exports:{}},wt=function(t,i){return function(){for(var l=new Array(arguments.length),f=0;f<l.length;f++)l[f]=arguments[f];return t.apply(i,l)}},Pa=wt,q=Object.prototype.toString;function ke(e){return Array.isArray(e)}function Te(e){return typeof e>"u"}function Ea(e){return e!==null&&!Te(e)&&e.constructor!==null&&!Te(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Pt(e){return q.call(e)==="[object ArrayBuffer]"}function Ra(e){return q.call(e)==="[object FormData]"}function Ca(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pt(e.buffer),t}function Ta(e){return typeof e=="string"}function Na(e){return typeof e=="number"}function Et(e){return e!==null&&typeof e=="object"}function ee(e){if(q.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Va(e){return q.call(e)==="[object Date]"}function Fa(e){return q.call(e)==="[object File]"}function Ba(e){return q.call(e)==="[object Blob]"}function Rt(e){return q.call(e)==="[object Function]"}function _a(e){return Et(e)&&Rt(e.pipe)}function Ua(e){return q.call(e)==="[object URLSearchParams]"}function ka(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Ma(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Me(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),ke(e))for(var i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.call(null,e[l],l,e)}function Ne(){var e={};function t(l,f){ee(e[f])&&ee(l)?e[f]=Ne(e[f],l):ee(l)?e[f]=Ne({},l):ke(l)?e[f]=l.slice():e[f]=l}for(var i=0,a=arguments.length;i<a;i++)Me(arguments[i],t);return e}function qa(e,t,i){return Me(t,function(l,f){i&&typeof l=="function"?e[f]=Pa(l,i):e[f]=l}),e}function Ia(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var N={isArray:ke,isArrayBuffer:Pt,isBuffer:Ea,isFormData:Ra,isArrayBufferView:Ca,isString:Ta,isNumber:Na,isObject:Et,isPlainObject:ee,isUndefined:Te,isDate:Va,isFile:Fa,isBlob:Ba,isFunction:Rt,isStream:_a,isURLSearchParams:Ua,isStandardBrowserEnv:Ma,forEach:Me,merge:Ne,extend:qa,trim:ka,stripBOM:Ia},Q=N;function Je(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ct=function(t,i,a){if(!i)return t;var l;if(a)l=a(i);else if(Q.isURLSearchParams(i))l=i.toString();else{var f=[];Q.forEach(i,function(n,d){n===null||typeof n>"u"||(Q.isArray(n)?d=d+"[]":n=[n],Q.forEach(n,function(r){Q.isDate(r)?r=r.toISOString():Q.isObject(r)&&(r=JSON.stringify(r)),f.push(Je(d)+"="+Je(r))}))}),l=f.join("&")}if(l){var c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t},La=N;function ne(){this.handlers=[]}ne.prototype.use=function(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1};ne.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};ne.prototype.forEach=function(t){La.forEach(this.handlers,function(a){a!==null&&t(a)})};var Da=ne,za=N,Ha=function(t,i){za.forEach(t,function(l,f){f!==i&&f.toUpperCase()===i.toUpperCase()&&(t[i]=l,delete t[f])})},Tt=function(t,i,a,l,f){return t.config=i,a&&(t.code=a),t.request=l,t.response=f,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},he,Ge;function Vt(){if(Ge)return he;Ge=1;var e=Tt;return he=function(i,a,l,f,c){var s=new Error(i);return e(s,a,l,f,c)},he}var fe,Ke;function $a(){if(Ke)return fe;Ke=1;var e=Vt();return fe=function(i,a,l){var f=l.config.validateStatus;!l.status||!f||f(l.status)?i(l):a(e("Request failed with status code "+l.status,l.config,null,l.request,l))},fe}var me,We;function Ya(){if(We)return me;We=1;var e=N;return me=e.isStandardBrowserEnv()?function(){return{write:function(a,l,f,c,s,n){var d=[];d.push(a+"="+encodeURIComponent(l)),e.isNumber(f)&&d.push("expires="+new Date(f).toGMTString()),e.isString(c)&&d.push("path="+c),e.isString(s)&&d.push("domain="+s),n===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(a){var l=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),me}var pe,Xe;function Qa(){return Xe||(Xe=1,pe=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),pe}var ve,Ze;function Ja(){return Ze||(Ze=1,ve=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t}),ve}var be,et;function Ga(){if(et)return be;et=1;var e=Qa(),t=Ja();return be=function(a,l){return a&&!e(l)?t(a,l):l},be}var ge,tt;function Ka(){if(tt)return ge;tt=1;var e=N,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ge=function(a){var l={},f,c,s;return a&&e.forEach(a.split(`
`),function(d){if(s=d.indexOf(":"),f=e.trim(d.substr(0,s)).toLowerCase(),c=e.trim(d.substr(s+1)),f){if(l[f]&&t.indexOf(f)>=0)return;f==="set-cookie"?l[f]=(l[f]?l[f]:[]).concat([c]):l[f]=l[f]?l[f]+", "+c:c}}),l},ge}var je,at;function Wa(){if(at)return je;at=1;var e=N;return je=e.isStandardBrowserEnv()?function(){var i=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),l;function f(c){var s=c;return i&&(a.setAttribute("href",s),s=a.href),a.setAttribute("href",s),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return l=f(window.location.href),function(s){var n=e.isString(s)?f(s):s;return n.protocol===l.protocol&&n.host===l.host}}():function(){return function(){return!0}}(),je}var Oe,st;function ie(){if(st)return Oe;st=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Oe=e,Oe}var xe,rt;function nt(){if(rt)return xe;rt=1;var e=N,t=$a(),i=Ya(),a=Ct,l=Ga(),f=Ka(),c=Wa(),s=Vt(),n=Nt,d=ie();return xe=function(r){return new Promise(function(m,p){var v=r.data,b=r.headers,j=r.responseType,S;function A(){r.cancelToken&&r.cancelToken.unsubscribe(S),r.signal&&r.signal.removeEventListener("abort",S)}e.isFormData(v)&&delete b["Content-Type"];var g=new XMLHttpRequest;if(r.auth){var C=r.auth.username||"",y=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";b.Authorization="Basic "+btoa(C+":"+y)}var P=l(r.baseURL,r.url);g.open(r.method.toUpperCase(),a(P,r.params,r.paramsSerializer),!0),g.timeout=r.timeout;function V(){if(g){var F="getAllResponseHeaders"in g?f(g.getAllResponseHeaders()):null,I=!j||j==="text"||j==="json"?g.responseText:g.response,U={data:I,status:g.status,statusText:g.statusText,headers:F,config:r,request:g};t(function(de){m(de),A()},function(de){p(de),A()},U),g=null}}if("onloadend"in g?g.onloadend=V:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(V)},g.onabort=function(){g&&(p(s("Request aborted",r,"ECONNABORTED",g)),g=null)},g.onerror=function(){p(s("Network Error",r,null,g)),g=null},g.ontimeout=function(){var I=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",U=r.transitional||n;r.timeoutErrorMessage&&(I=r.timeoutErrorMessage),p(s(I,r,U.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},e.isStandardBrowserEnv()){var T=(r.withCredentials||c(P))&&r.xsrfCookieName?i.read(r.xsrfCookieName):void 0;T&&(b[r.xsrfHeaderName]=T)}"setRequestHeader"in g&&e.forEach(b,function(I,U){typeof v>"u"&&U.toLowerCase()==="content-type"?delete b[U]:g.setRequestHeader(U,I)}),e.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),j&&j!=="json"&&(g.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&g.addEventListener("progress",r.onDownloadProgress),typeof r.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",r.onUploadProgress),(r.cancelToken||r.signal)&&(S=function(F){g&&(p(!F||F&&F.type?new d("canceled"):F),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(S),r.signal&&(r.signal.aborted?S():r.signal.addEventListener("abort",S))),v||(v=null),g.send(v)})},xe}var E=N,it=Ha,Xa=Tt,Za=Nt,es={"Content-Type":"application/x-www-form-urlencoded"};function ot(e,t){!E.isUndefined(e)&&E.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function ts(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=nt()),e}function as(e,t,i){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}var oe={transitional:Za,adapter:ts(),transformRequest:[function(t,i){return it(i,"Accept"),it(i,"Content-Type"),E.isFormData(t)||E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)?t:E.isArrayBufferView(t)?t.buffer:E.isURLSearchParams(t)?(ot(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):E.isObject(t)||i&&i["Content-Type"]==="application/json"?(ot(i,"application/json"),as(t)):t}],transformResponse:[function(t){var i=this.transitional||oe.transitional,a=i&&i.silentJSONParsing,l=i&&i.forcedJSONParsing,f=!a&&this.responseType==="json";if(f||l&&E.isString(t)&&t.length)try{return JSON.parse(t)}catch(c){if(f)throw c.name==="SyntaxError"?Xa(c,this,"E_JSON_PARSE"):c}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(t){oe.headers[t]={}});E.forEach(["post","put","patch"],function(t){oe.headers[t]=E.merge(es)});var qe=oe,ss=N,rs=qe,ns=function(t,i,a){var l=this||rs;return ss.forEach(a,function(c){t=c.call(l,t,i)}),t},ye,lt;function Ft(){return lt||(lt=1,ye=function(t){return!!(t&&t.__CANCEL__)}),ye}var ct=N,Ae=ns,is=Ft(),os=qe,ls=ie();function Se(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ls("canceled")}var cs=function(t){Se(t),t.headers=t.headers||{},t.data=Ae.call(t,t.data,t.headers,t.transformRequest),t.headers=ct.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),ct.forEach(["delete","get","head","post","put","patch","common"],function(l){delete t.headers[l]});var i=t.adapter||os.adapter;return i(t).then(function(l){return Se(t),l.data=Ae.call(t,l.data,l.headers,t.transformResponse),l},function(l){return is(l)||(Se(t),l&&l.response&&(l.response.data=Ae.call(t,l.response.data,l.response.headers,t.transformResponse))),Promise.reject(l)})},B=N,Bt=function(t,i){i=i||{};var a={};function l(o,r){return B.isPlainObject(o)&&B.isPlainObject(r)?B.merge(o,r):B.isPlainObject(r)?B.merge({},r):B.isArray(r)?r.slice():r}function f(o){if(B.isUndefined(i[o])){if(!B.isUndefined(t[o]))return l(void 0,t[o])}else return l(t[o],i[o])}function c(o){if(!B.isUndefined(i[o]))return l(void 0,i[o])}function s(o){if(B.isUndefined(i[o])){if(!B.isUndefined(t[o]))return l(void 0,t[o])}else return l(void 0,i[o])}function n(o){if(o in i)return l(t[o],i[o]);if(o in t)return l(void 0,t[o])}var d={url:c,method:c,data:c,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:n};return B.forEach(Object.keys(t).concat(Object.keys(i)),function(r){var h=d[r]||f,m=h(r);B.isUndefined(m)&&h!==n||(a[r]=m)}),a},we,dt;function _t(){return dt||(dt=1,we={version:"0.26.1"}),we}var ds=_t().version,Ie={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Ie[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});var ut={};Ie.transitional=function(t,i,a){function l(f,c){return"[Axios v"+ds+"] Transitional option '"+f+"'"+c+(a?". "+a:"")}return function(f,c,s){if(t===!1)throw new Error(l(c," has been removed"+(i?" in "+i:"")));return i&&!ut[c]&&(ut[c]=!0,console.warn(l(c," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(f,c,s):!0}};function us(e,t,i){if(typeof e!="object")throw new TypeError("options must be an object");for(var a=Object.keys(e),l=a.length;l-- >0;){var f=a[l],c=t[f];if(c){var s=e[f],n=s===void 0||c(s,f,e);if(n!==!0)throw new TypeError("option "+f+" must be "+n);continue}if(i!==!0)throw Error("Unknown option "+f)}}var hs={assertOptions:us,validators:Ie},Ut=N,fs=Ct,ht=Da,ft=cs,le=Bt,kt=hs,J=kt.validators;function K(e){this.defaults=e,this.interceptors={request:new ht,response:new ht}}K.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=le(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var a=i.transitional;a!==void 0&&kt.assertOptions(a,{silentJSONParsing:J.transitional(J.boolean),forcedJSONParsing:J.transitional(J.boolean),clarifyTimeoutError:J.transitional(J.boolean)},!1);var l=[],f=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(i)===!1||(f=f&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});var c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});var s;if(!f){var n=[ft,void 0];for(Array.prototype.unshift.apply(n,l),n=n.concat(c),s=Promise.resolve(i);n.length;)s=s.then(n.shift(),n.shift());return s}for(var d=i;l.length;){var o=l.shift(),r=l.shift();try{d=o(d)}catch(h){r(h);break}}try{s=ft(d)}catch(h){return Promise.reject(h)}for(;c.length;)s=s.then(c.shift(),c.shift());return s};K.prototype.getUri=function(t){return t=le(this.defaults,t),fs(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Ut.forEach(["delete","get","head","options"],function(t){K.prototype[t]=function(i,a){return this.request(le(a||{},{method:t,url:i,data:(a||{}).data}))}});Ut.forEach(["post","put","patch"],function(t){K.prototype[t]=function(i,a,l){return this.request(le(l||{},{method:t,url:i,data:a}))}});var ms=K,Pe,mt;function ps(){if(mt)return Pe;mt=1;var e=ie();function t(i){if(typeof i!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(c){a=c});var l=this;this.promise.then(function(f){if(l._listeners){var c,s=l._listeners.length;for(c=0;c<s;c++)l._listeners[c](f);l._listeners=null}}),this.promise.then=function(f){var c,s=new Promise(function(n){l.subscribe(n),c=n}).then(f);return s.cancel=function(){l.unsubscribe(c)},s},i(function(c){l.reason||(l.reason=new e(c),a(l.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]},t.prototype.unsubscribe=function(a){if(this._listeners){var l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}},t.source=function(){var a,l=new t(function(c){a=c});return{token:l,cancel:a}},Pe=t,Pe}var Ee,pt;function vs(){return pt||(pt=1,Ee=function(t){return function(a){return t.apply(null,a)}}),Ee}var Re,vt;function bs(){if(vt)return Re;vt=1;var e=N;return Re=function(i){return e.isObject(i)&&i.isAxiosError===!0},Re}var bt=N,gs=wt,te=ms,js=Bt,Os=qe;function Mt(e){var t=new te(e),i=gs(te.prototype.request,t);return bt.extend(i,te.prototype,t),bt.extend(i,t),i.create=function(l){return Mt(js(e,l))},i}var _=Mt(Os);_.Axios=te;_.Cancel=ie();_.CancelToken=ps();_.isCancel=Ft();_.VERSION=_t().version;_.all=function(t){return Promise.all(t)};_.spread=vs();_.isAxiosError=bs();Ue.exports=_;Ue.exports.default=_;var xs=Ue.exports,qt=xs,w={},Le={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=qt;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class i{constructor(f,c=e.BASE_PATH,s=t.default){this.basePath=c,this.axios=s,f&&(this.configuration=f,this.basePath=f.basePath||this.basePath)}}e.BaseAPI=i;class a extends Error{constructor(f,c){super(c),this.field=f,this.name="RequiredError"}}e.RequiredError=a})(Le);var De=k&&k.__awaiter||function(e,t,i,a){function l(f){return f instanceof i?f:new i(function(c){c(f)})}return new(i||(i=Promise))(function(f,c){function s(o){try{d(a.next(o))}catch(r){c(r)}}function n(o){try{d(a.throw(o))}catch(r){c(r)}}function d(o){o.done?f(o.value):l(o.value).then(s,n)}d((a=a.apply(e,t||[])).next())})};Object.defineProperty(w,"__esModule",{value:!0});w.createRequestFunction=w.toPathString=w.serializeDataIfNeeded=w.setSearchParams=w.setOAuthToObject=w.setBearerAuthToObject=w.setBasicAuthToObject=w.setApiKeyToObject=w.assertParamExists=w.DUMMY_BASE_URL=void 0;const ys=Le;w.DUMMY_BASE_URL="https://example.com";w.assertParamExists=function(e,t,i){if(i==null)throw new ys.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};w.setApiKeyToObject=function(e,t,i){return De(this,void 0,void 0,function*(){if(i&&i.apiKey){const a=typeof i.apiKey=="function"?yield i.apiKey(t):yield i.apiKey;e[t]=a}})};w.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})};w.setBearerAuthToObject=function(e,t){return De(this,void 0,void 0,function*(){if(t&&t.accessToken){const i=typeof t.accessToken=="function"?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+i}})};w.setOAuthToObject=function(e,t,i,a){return De(this,void 0,void 0,function*(){if(a&&a.accessToken){const l=typeof a.accessToken=="function"?yield a.accessToken(t,i):yield a.accessToken;e.Authorization="Bearer "+l}})};function Ve(e,t,i=""){t!=null&&(typeof t=="object"?Array.isArray(t)?t.forEach(a=>Ve(e,a,i)):Object.keys(t).forEach(a=>Ve(e,t[a],`${i}${i!==""?".":""}${a}`)):e.has(i)?e.append(i,t):e.set(i,t))}w.setSearchParams=function(e,...t){const i=new URLSearchParams(e.search);Ve(i,t),e.search=i.toString()};w.serializeDataIfNeeded=function(e,t,i){const a=typeof e!="string";return(a&&i&&i.isJsonMime?i.isJsonMime(t.headers["Content-Type"]):a)?JSON.stringify(e!==void 0?e:{}):e||""};w.toPathString=function(e){return e.pathname+e.search+e.hash};w.createRequestFunction=function(e,t,i,a){return(l=t,f=i)=>{const c=Object.assign(Object.assign({},e.options),{url:((a==null?void 0:a.basePath)||f)+e.url});return l.request(c)}};(function(e){var t=k&&k.__awaiter||function(c,s,n,d){function o(r){return r instanceof n?r:new n(function(h){h(r)})}return new(n||(n=Promise))(function(r,h){function m(b){try{v(d.next(b))}catch(j){h(j)}}function p(b){try{v(d.throw(b))}catch(j){h(j)}}function v(b){b.done?r(b.value):o(b.value).then(m,p)}v((d=d.apply(c,s||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const i=qt,a=w,l=Le;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(c){return{cancelFineTune:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("cancelFineTune","fineTuneId",s);const d="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),createAnswer:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createAnswer","createAnswerRequest",s);const d="/answers",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createChatCompletion:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createChatCompletion","createChatCompletionRequest",s);const d="/chat/completions",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createClassification:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createClassification","createClassificationRequest",s);const d="/classifications",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createCompletion:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createCompletion","createCompletionRequest",s);const d="/completions",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createEdit:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createEdit","createEditRequest",s);const d="/edits",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createEmbedding:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createEmbedding","createEmbeddingRequest",s);const d="/embeddings",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createFile:(s,n,d={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createFile","file",s),a.assertParamExists("createFile","purpose",n);const o="/files",r=new URL(o,a.DUMMY_BASE_URL);let h;c&&(h=c.baseOptions);const m=Object.assign(Object.assign({method:"POST"},h),d),p={},v={},b=new(c&&c.formDataCtor||FormData);s!==void 0&&b.append("file",s),n!==void 0&&b.append("purpose",n),p["Content-Type"]="multipart/form-data",a.setSearchParams(r,v);let j=h&&h.headers?h.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),b.getHeaders()),j),d.headers),m.data=b,{url:a.toPathString(r),options:m}}),createFineTune:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createFineTune","createFineTuneRequest",s);const d="/fine-tunes",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createImage:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createImage","createImageRequest",s);const d="/images/generations",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createImageEdit:(s,n,d,o,r,h,m,p={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createImageEdit","image",s),a.assertParamExists("createImageEdit","prompt",n);const v="/images/edits",b=new URL(v,a.DUMMY_BASE_URL);let j;c&&(j=c.baseOptions);const S=Object.assign(Object.assign({method:"POST"},j),p),A={},g={},C=new(c&&c.formDataCtor||FormData);s!==void 0&&C.append("image",s),d!==void 0&&C.append("mask",d),n!==void 0&&C.append("prompt",n),o!==void 0&&C.append("n",o),r!==void 0&&C.append("size",r),h!==void 0&&C.append("response_format",h),m!==void 0&&C.append("user",m),A["Content-Type"]="multipart/form-data",a.setSearchParams(b,g);let y=j&&j.headers?j.headers:{};return S.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),C.getHeaders()),y),p.headers),S.data=C,{url:a.toPathString(b),options:S}}),createImageVariation:(s,n,d,o,r,h={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createImageVariation","image",s);const m="/images/variations",p=new URL(m,a.DUMMY_BASE_URL);let v;c&&(v=c.baseOptions);const b=Object.assign(Object.assign({method:"POST"},v),h),j={},S={},A=new(c&&c.formDataCtor||FormData);s!==void 0&&A.append("image",s),n!==void 0&&A.append("n",n),d!==void 0&&A.append("size",d),o!==void 0&&A.append("response_format",o),r!==void 0&&A.append("user",r),j["Content-Type"]="multipart/form-data",a.setSearchParams(p,S);let g=v&&v.headers?v.headers:{};return b.headers=Object.assign(Object.assign(Object.assign(Object.assign({},j),A.getHeaders()),g),h.headers),b.data=A,{url:a.toPathString(p),options:b}}),createModeration:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createModeration","createModerationRequest",s);const d="/moderations",o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"POST"},r),n),m={},p={};m["Content-Type"]="application/json",a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),h.data=a.serializeDataIfNeeded(s,h,c),{url:a.toPathString(o),options:h}}),createSearch:(s,n,d={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createSearch","engineId",s),a.assertParamExists("createSearch","createSearchRequest",n);const o="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(s))),r=new URL(o,a.DUMMY_BASE_URL);let h;c&&(h=c.baseOptions);const m=Object.assign(Object.assign({method:"POST"},h),d),p={},v={};p["Content-Type"]="application/json",a.setSearchParams(r,v);let b=h&&h.headers?h.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},p),b),d.headers),m.data=a.serializeDataIfNeeded(n,m,c),{url:a.toPathString(r),options:m}}),createTranscription:(s,n,d,o,r,h,m={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createTranscription","file",s),a.assertParamExists("createTranscription","model",n);const p="/audio/transcriptions",v=new URL(p,a.DUMMY_BASE_URL);let b;c&&(b=c.baseOptions);const j=Object.assign(Object.assign({method:"POST"},b),m),S={},A={},g=new(c&&c.formDataCtor||FormData);s!==void 0&&g.append("file",s),n!==void 0&&g.append("model",n),d!==void 0&&g.append("prompt",d),o!==void 0&&g.append("response_format",o),r!==void 0&&g.append("temperature",r),h!==void 0&&g.append("language",h),S["Content-Type"]="multipart/form-data",a.setSearchParams(v,A);let C=b&&b.headers?b.headers:{};return j.headers=Object.assign(Object.assign(Object.assign(Object.assign({},S),g.getHeaders()),C),m.headers),j.data=g,{url:a.toPathString(v),options:j}}),createTranslation:(s,n,d,o,r,h={})=>t(this,void 0,void 0,function*(){a.assertParamExists("createTranslation","file",s),a.assertParamExists("createTranslation","model",n);const m="/audio/translations",p=new URL(m,a.DUMMY_BASE_URL);let v;c&&(v=c.baseOptions);const b=Object.assign(Object.assign({method:"POST"},v),h),j={},S={},A=new(c&&c.formDataCtor||FormData);s!==void 0&&A.append("file",s),n!==void 0&&A.append("model",n),d!==void 0&&A.append("prompt",d),o!==void 0&&A.append("response_format",o),r!==void 0&&A.append("temperature",r),j["Content-Type"]="multipart/form-data",a.setSearchParams(p,S);let g=v&&v.headers?v.headers:{};return b.headers=Object.assign(Object.assign(Object.assign(Object.assign({},j),A.getHeaders()),g),h.headers),b.data=A,{url:a.toPathString(p),options:b}}),deleteFile:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("deleteFile","fileId",s);const d="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"DELETE"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),deleteModel:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("deleteModel","model",s);const d="/models/{model}".replace("{model}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"DELETE"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),downloadFile:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("downloadFile","fileId",s);const d="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"GET"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),listEngines:(s={})=>t(this,void 0,void 0,function*(){const n="/engines",d=new URL(n,a.DUMMY_BASE_URL);let o;c&&(o=c.baseOptions);const r=Object.assign(Object.assign({method:"GET"},o),s),h={},m={};a.setSearchParams(d,m);let p=o&&o.headers?o.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},h),p),s.headers),{url:a.toPathString(d),options:r}}),listFiles:(s={})=>t(this,void 0,void 0,function*(){const n="/files",d=new URL(n,a.DUMMY_BASE_URL);let o;c&&(o=c.baseOptions);const r=Object.assign(Object.assign({method:"GET"},o),s),h={},m={};a.setSearchParams(d,m);let p=o&&o.headers?o.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},h),p),s.headers),{url:a.toPathString(d),options:r}}),listFineTuneEvents:(s,n,d={})=>t(this,void 0,void 0,function*(){a.assertParamExists("listFineTuneEvents","fineTuneId",s);const o="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(s))),r=new URL(o,a.DUMMY_BASE_URL);let h;c&&(h=c.baseOptions);const m=Object.assign(Object.assign({method:"GET"},h),d),p={},v={};n!==void 0&&(v.stream=n),a.setSearchParams(r,v);let b=h&&h.headers?h.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},p),b),d.headers),{url:a.toPathString(r),options:m}}),listFineTunes:(s={})=>t(this,void 0,void 0,function*(){const n="/fine-tunes",d=new URL(n,a.DUMMY_BASE_URL);let o;c&&(o=c.baseOptions);const r=Object.assign(Object.assign({method:"GET"},o),s),h={},m={};a.setSearchParams(d,m);let p=o&&o.headers?o.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},h),p),s.headers),{url:a.toPathString(d),options:r}}),listModels:(s={})=>t(this,void 0,void 0,function*(){const n="/models",d=new URL(n,a.DUMMY_BASE_URL);let o;c&&(o=c.baseOptions);const r=Object.assign(Object.assign({method:"GET"},o),s),h={},m={};a.setSearchParams(d,m);let p=o&&o.headers?o.headers:{};return r.headers=Object.assign(Object.assign(Object.assign({},h),p),s.headers),{url:a.toPathString(d),options:r}}),retrieveEngine:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("retrieveEngine","engineId",s);const d="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"GET"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),retrieveFile:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("retrieveFile","fileId",s);const d="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"GET"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),retrieveFineTune:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("retrieveFineTune","fineTuneId",s);const d="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"GET"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}}),retrieveModel:(s,n={})=>t(this,void 0,void 0,function*(){a.assertParamExists("retrieveModel","model",s);const d="/models/{model}".replace("{model}",encodeURIComponent(String(s))),o=new URL(d,a.DUMMY_BASE_URL);let r;c&&(r=c.baseOptions);const h=Object.assign(Object.assign({method:"GET"},r),n),m={},p={};a.setSearchParams(o,p);let v=r&&r.headers?r.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),n.headers),{url:a.toPathString(o),options:h}})}},e.OpenAIApiFp=function(c){const s=e.OpenAIApiAxiosParamCreator(c);return{cancelFineTune(n,d){return t(this,void 0,void 0,function*(){const o=yield s.cancelFineTune(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createAnswer(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createAnswer(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createChatCompletion(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createChatCompletion(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createClassification(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createClassification(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createCompletion(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createCompletion(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createEdit(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createEdit(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createEmbedding(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createEmbedding(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createFile(n,d,o){return t(this,void 0,void 0,function*(){const r=yield s.createFile(n,d,o);return a.createRequestFunction(r,i.default,l.BASE_PATH,c)})},createFineTune(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createFineTune(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createImage(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createImage(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createImageEdit(n,d,o,r,h,m,p,v){return t(this,void 0,void 0,function*(){const b=yield s.createImageEdit(n,d,o,r,h,m,p,v);return a.createRequestFunction(b,i.default,l.BASE_PATH,c)})},createImageVariation(n,d,o,r,h,m){return t(this,void 0,void 0,function*(){const p=yield s.createImageVariation(n,d,o,r,h,m);return a.createRequestFunction(p,i.default,l.BASE_PATH,c)})},createModeration(n,d){return t(this,void 0,void 0,function*(){const o=yield s.createModeration(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},createSearch(n,d,o){return t(this,void 0,void 0,function*(){const r=yield s.createSearch(n,d,o);return a.createRequestFunction(r,i.default,l.BASE_PATH,c)})},createTranscription(n,d,o,r,h,m,p){return t(this,void 0,void 0,function*(){const v=yield s.createTranscription(n,d,o,r,h,m,p);return a.createRequestFunction(v,i.default,l.BASE_PATH,c)})},createTranslation(n,d,o,r,h,m){return t(this,void 0,void 0,function*(){const p=yield s.createTranslation(n,d,o,r,h,m);return a.createRequestFunction(p,i.default,l.BASE_PATH,c)})},deleteFile(n,d){return t(this,void 0,void 0,function*(){const o=yield s.deleteFile(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},deleteModel(n,d){return t(this,void 0,void 0,function*(){const o=yield s.deleteModel(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},downloadFile(n,d){return t(this,void 0,void 0,function*(){const o=yield s.downloadFile(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},listEngines(n){return t(this,void 0,void 0,function*(){const d=yield s.listEngines(n);return a.createRequestFunction(d,i.default,l.BASE_PATH,c)})},listFiles(n){return t(this,void 0,void 0,function*(){const d=yield s.listFiles(n);return a.createRequestFunction(d,i.default,l.BASE_PATH,c)})},listFineTuneEvents(n,d,o){return t(this,void 0,void 0,function*(){const r=yield s.listFineTuneEvents(n,d,o);return a.createRequestFunction(r,i.default,l.BASE_PATH,c)})},listFineTunes(n){return t(this,void 0,void 0,function*(){const d=yield s.listFineTunes(n);return a.createRequestFunction(d,i.default,l.BASE_PATH,c)})},listModels(n){return t(this,void 0,void 0,function*(){const d=yield s.listModels(n);return a.createRequestFunction(d,i.default,l.BASE_PATH,c)})},retrieveEngine(n,d){return t(this,void 0,void 0,function*(){const o=yield s.retrieveEngine(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},retrieveFile(n,d){return t(this,void 0,void 0,function*(){const o=yield s.retrieveFile(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},retrieveFineTune(n,d){return t(this,void 0,void 0,function*(){const o=yield s.retrieveFineTune(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})},retrieveModel(n,d){return t(this,void 0,void 0,function*(){const o=yield s.retrieveModel(n,d);return a.createRequestFunction(o,i.default,l.BASE_PATH,c)})}}},e.OpenAIApiFactory=function(c,s,n){const d=e.OpenAIApiFp(c);return{cancelFineTune(o,r){return d.cancelFineTune(o,r).then(h=>h(n,s))},createAnswer(o,r){return d.createAnswer(o,r).then(h=>h(n,s))},createChatCompletion(o,r){return d.createChatCompletion(o,r).then(h=>h(n,s))},createClassification(o,r){return d.createClassification(o,r).then(h=>h(n,s))},createCompletion(o,r){return d.createCompletion(o,r).then(h=>h(n,s))},createEdit(o,r){return d.createEdit(o,r).then(h=>h(n,s))},createEmbedding(o,r){return d.createEmbedding(o,r).then(h=>h(n,s))},createFile(o,r,h){return d.createFile(o,r,h).then(m=>m(n,s))},createFineTune(o,r){return d.createFineTune(o,r).then(h=>h(n,s))},createImage(o,r){return d.createImage(o,r).then(h=>h(n,s))},createImageEdit(o,r,h,m,p,v,b,j){return d.createImageEdit(o,r,h,m,p,v,b,j).then(S=>S(n,s))},createImageVariation(o,r,h,m,p,v){return d.createImageVariation(o,r,h,m,p,v).then(b=>b(n,s))},createModeration(o,r){return d.createModeration(o,r).then(h=>h(n,s))},createSearch(o,r,h){return d.createSearch(o,r,h).then(m=>m(n,s))},createTranscription(o,r,h,m,p,v,b){return d.createTranscription(o,r,h,m,p,v,b).then(j=>j(n,s))},createTranslation(o,r,h,m,p,v){return d.createTranslation(o,r,h,m,p,v).then(b=>b(n,s))},deleteFile(o,r){return d.deleteFile(o,r).then(h=>h(n,s))},deleteModel(o,r){return d.deleteModel(o,r).then(h=>h(n,s))},downloadFile(o,r){return d.downloadFile(o,r).then(h=>h(n,s))},listEngines(o){return d.listEngines(o).then(r=>r(n,s))},listFiles(o){return d.listFiles(o).then(r=>r(n,s))},listFineTuneEvents(o,r,h){return d.listFineTuneEvents(o,r,h).then(m=>m(n,s))},listFineTunes(o){return d.listFineTunes(o).then(r=>r(n,s))},listModels(o){return d.listModels(o).then(r=>r(n,s))},retrieveEngine(o,r){return d.retrieveEngine(o,r).then(h=>h(n,s))},retrieveFile(o,r){return d.retrieveFile(o,r).then(h=>h(n,s))},retrieveFineTune(o,r){return d.retrieveFineTune(o,r).then(h=>h(n,s))},retrieveModel(o,r){return d.retrieveModel(o,r).then(h=>h(n,s))}}};class f extends l.BaseAPI{cancelFineTune(s,n){return e.OpenAIApiFp(this.configuration).cancelFineTune(s,n).then(d=>d(this.axios,this.basePath))}createAnswer(s,n){return e.OpenAIApiFp(this.configuration).createAnswer(s,n).then(d=>d(this.axios,this.basePath))}createChatCompletion(s,n){return e.OpenAIApiFp(this.configuration).createChatCompletion(s,n).then(d=>d(this.axios,this.basePath))}createClassification(s,n){return e.OpenAIApiFp(this.configuration).createClassification(s,n).then(d=>d(this.axios,this.basePath))}createCompletion(s,n){return e.OpenAIApiFp(this.configuration).createCompletion(s,n).then(d=>d(this.axios,this.basePath))}createEdit(s,n){return e.OpenAIApiFp(this.configuration).createEdit(s,n).then(d=>d(this.axios,this.basePath))}createEmbedding(s,n){return e.OpenAIApiFp(this.configuration).createEmbedding(s,n).then(d=>d(this.axios,this.basePath))}createFile(s,n,d){return e.OpenAIApiFp(this.configuration).createFile(s,n,d).then(o=>o(this.axios,this.basePath))}createFineTune(s,n){return e.OpenAIApiFp(this.configuration).createFineTune(s,n).then(d=>d(this.axios,this.basePath))}createImage(s,n){return e.OpenAIApiFp(this.configuration).createImage(s,n).then(d=>d(this.axios,this.basePath))}createImageEdit(s,n,d,o,r,h,m,p){return e.OpenAIApiFp(this.configuration).createImageEdit(s,n,d,o,r,h,m,p).then(v=>v(this.axios,this.basePath))}createImageVariation(s,n,d,o,r,h){return e.OpenAIApiFp(this.configuration).createImageVariation(s,n,d,o,r,h).then(m=>m(this.axios,this.basePath))}createModeration(s,n){return e.OpenAIApiFp(this.configuration).createModeration(s,n).then(d=>d(this.axios,this.basePath))}createSearch(s,n,d){return e.OpenAIApiFp(this.configuration).createSearch(s,n,d).then(o=>o(this.axios,this.basePath))}createTranscription(s,n,d,o,r,h,m){return e.OpenAIApiFp(this.configuration).createTranscription(s,n,d,o,r,h,m).then(p=>p(this.axios,this.basePath))}createTranslation(s,n,d,o,r,h){return e.OpenAIApiFp(this.configuration).createTranslation(s,n,d,o,r,h).then(m=>m(this.axios,this.basePath))}deleteFile(s,n){return e.OpenAIApiFp(this.configuration).deleteFile(s,n).then(d=>d(this.axios,this.basePath))}deleteModel(s,n){return e.OpenAIApiFp(this.configuration).deleteModel(s,n).then(d=>d(this.axios,this.basePath))}downloadFile(s,n){return e.OpenAIApiFp(this.configuration).downloadFile(s,n).then(d=>d(this.axios,this.basePath))}listEngines(s){return e.OpenAIApiFp(this.configuration).listEngines(s).then(n=>n(this.axios,this.basePath))}listFiles(s){return e.OpenAIApiFp(this.configuration).listFiles(s).then(n=>n(this.axios,this.basePath))}listFineTuneEvents(s,n,d){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(s,n,d).then(o=>o(this.axios,this.basePath))}listFineTunes(s){return e.OpenAIApiFp(this.configuration).listFineTunes(s).then(n=>n(this.axios,this.basePath))}listModels(s){return e.OpenAIApiFp(this.configuration).listModels(s).then(n=>n(this.axios,this.basePath))}retrieveEngine(s,n){return e.OpenAIApiFp(this.configuration).retrieveEngine(s,n).then(d=>d(this.axios,this.basePath))}retrieveFile(s,n){return e.OpenAIApiFp(this.configuration).retrieveFile(s,n).then(d=>d(this.axios,this.basePath))}retrieveFineTune(s,n){return e.OpenAIApiFp(this.configuration).retrieveFineTune(s,n).then(d=>d(this.axios,this.basePath))}retrieveModel(s,n){return e.OpenAIApiFp(this.configuration).retrieveModel(s,n).then(d=>d(this.axios,this.basePath))}}e.OpenAIApi=f})(St);var ce={};const As="openai",Ss="3.2.1",ws="Node.js library for the OpenAI API",Ps={type:"git",url:"git@github.com:openai/openai-node.git"},Es=["openai","open","ai","gpt-3","gpt3"],Rs="OpenAI",Cs="MIT",Ts="./dist/index.js",Ns="./dist/index.d.ts",Vs={build:"tsc --outDir dist/"},Fs={axios:"^0.26.0","form-data":"^4.0.0"},Bs={"@types/node":"^12.11.5",typescript:"^3.6.4"},_s={name:As,version:Ss,description:ws,repository:Ps,keywords:Es,author:Rs,license:Cs,main:Ts,types:Ns,scripts:Vs,dependencies:Fs,devDependencies:Bs};var Ce,gt;function Us(){return gt||(gt=1,Ce=typeof self=="object"?self.FormData:window.FormData),Ce}Object.defineProperty(ce,"__esModule",{value:!0});ce.Configuration=void 0;const ks=_s;class Ms{constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${ks.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=Us())}isJsonMime(t){const i=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(i.test(t)||t.toLowerCase()==="application/json-patch+json")}}ce.Configuration=Ms;(function(e){var t=k&&k.__createBinding||(Object.create?function(a,l,f,c){c===void 0&&(c=f),Object.defineProperty(a,c,{enumerable:!0,get:function(){return l[f]}})}:function(a,l,f,c){c===void 0&&(c=f),a[c]=l[f]}),i=k&&k.__exportStar||function(a,l){for(var f in a)f!=="default"&&!l.hasOwnProperty(f)&&t(l,a,f)};Object.defineProperty(e,"__esModule",{value:!0}),i(St,e),i(ce,e)})(_e);const Fe=new _e.Configuration({apiKey:"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",organization:"org-orCdtXkVs4BhevWrjR0Oj1Wu"});Fe.baseOptions.headers={Authorization:Fe.baseOptions.headers.Authorization};const qs=new _e.OpenAIApi(Fe),It=async e=>{console.log("get openai api");let t;return await qs.createChatCompletion({model:"gpt-3.5-turbo",messages:e,temperature:.2,max_tokens:200,top_p:.1,frequency_penalty:0,presence_penalty:.5}).then(i=>{t=i.data.choices[0].message}).catch(i=>console.log(i)),t};const Is=async(e,t)=>{const i=l=>{t(l)},a=H($(),e);await Y(a,l=>{if(l.val()!==null){let f=Object.entries(l.val()).map((c,s)=>{if(s!==0)return c[1]}).filter((c,s)=>s!==0);i(f)}})},Ls=async(e,t,i,a)=>{const l={content:"Your name is Digital Learning Desk. You are a tool for learning with the Feynman Technique. If at the beginning of the chat the user has not told you about the topic, you should ask what the topic is. If you already know what the topic is, now you should ask the user to explain what he knows about the topic. Then you will critique what the user said and don't forget to make questions to the user about the topic, so that the user can improve his long-term memory (you are like an innocent child and always ask questions about the topic being discussed and don't ask like this 'Do you have any questions?') or if it turns out that the user doesn't know anything about the topic. Repeat this step.",role:"system"};if(a(""),i.length!==0){const f=[l,...t,{content:i,role:"user"}];await x(["users/"+e.uid+"/feynman"],f);const c=await It(f);if(c)x(["users/"+e.uid+"/feynman"],[...f,c]);else{const s={role:"assistant",content:"error"};x(["users/"+e.uid+"/feynman"],s)}}},Ds=()=>{const[e,t]=O.useState(""),[i,a]=O.useState([]),[l]=D(z);O.useEffect(()=>{Is(`users/${l.uid}/feynman`,s=>{a(s)})},[]);const f=s=>{t(s.target.value)},c={message:"massage d-flex justify-content-end mb-4 ps-5",aiMessage:"ai-massage d-flex justify-content-start mb-4 pe-5"};return u.jsx("div",{className:"regular-size shadow",children:u.jsx("div",{className:"regular-size p-3",children:u.jsxs("div",{className:"d-flex justify-content-between flex-column rounded-3 border border-2 border-black bg-white-dark content-1 p-3",children:[u.jsx("div",{className:"overflow-auto pb-5",children:u.jsx("div",{className:"log pt-2 pe-3",children:i.length>0?i.map((s,n)=>u.jsx("div",{className:s.role==="user"?c.message:c.aiMessage,children:u.jsx("div",{className:"p-2 pt-1 rounded ",children:s.content})},"message-"+n)):u.jsx("div",{className:c.aiMessage,children:u.jsx("div",{className:"p-2 pt-1 rounded ",children:"what topic you want to learn about?"})})})}),u.jsxs("div",{className:"position-relative mt-5 ",children:[u.jsx("div",{className:"d-flex justify-content-between form-search start-0 end-0 bottom-0 position-absolute z-1 search-box",children:u.jsx("textarea",{autoFocus:!0,className:"form-control fs-6 rounded rounded-3 pe-4 ",placeholder:"type here...",maxLength:15e3,id:"floatingTextarea2",value:e,onChange:f})}),u.jsx("button",{onClick:()=>Ls(l,i,e,t),className:"position-absolute z-2 end-0 p-1 pt-0 me-2 fs-5 btn-search ",style:{bottom:"1vh"},children:u.jsx(Be,{})})]})]})})})};const zs="/assets/rain-sound-421ad3f4.mp3",Hs="/assets/fireplace-sound-8ef138f6.mp3",$s="/assets/beach-sound-ef3e07b1.mp3",Ys="/assets/forest-sound-093b0459.mp3",Qs="/assets/cafe-sound-6d42c158.mp3",Js=()=>{const[e,t]=O.useState(!1),i=l=>{l.play(),t(!0)},a=()=>{document.querySelectorAll("audio").forEach(l=>l.pause()),t(!1)};return u.jsxs("div",{className:"pop-up-size p-4 d-flex justify-content-between flex-column end-0 bottom-0 me-1",children:[u.jsx("div",{children:u.jsxs("p",{className:"fs-2 fw-bold border-bottom border-black border-3 d-flex justify-content-between",children:["Sound",e?u.jsx(X,{className:"mt-2 fs-1",onClick:()=>a()}):u.jsx(Z,{className:"mt-2 fs-1",opacity:"50%"})]})}),u.jsxs("div",{className:"h-75 w-100 blue-shadow rounded rounded-4 mb-3 pb-3 p-3 overflow-scroll",children:[u.jsx("audio",{id:"rainSound",src:zs}),u.jsx("audio",{id:"fireSound",src:Hs}),u.jsx("audio",{id:"beachSound",src:$s}),u.jsx("audio",{id:"forestSound",src:Ys}),u.jsx("audio",{id:"coffeeSound",src:Qs}),u.jsx("p",{className:"bg-light rounded py-1 px-2 cursor-pointer",onClick:()=>{document.querySelectorAll("audio").forEach(f=>f.pause());const l=document.getElementById("rainSound");i(l)},children:"Rain"}),u.jsx("p",{className:"bg-light rounded py-1 px-2 cursor-pointer",onClick:()=>{document.querySelectorAll("audio").forEach(f=>f.pause());const l=document.getElementById("fireSound");i(l)},children:"Fire"}),u.jsx("p",{className:"bg-light rounded py-1 px-2 cursor-pointer",onClick:()=>{document.querySelectorAll("audio").forEach(f=>f.pause());const l=document.getElementById("beachSound");i(l)},children:"Beach"}),u.jsx("p",{className:"bg-light rounded py-1 px-2 cursor-pointer",onClick:()=>{document.querySelectorAll("audio").forEach(f=>f.pause());const l=document.getElementById("forestSound");i(l)},children:"Forest"}),u.jsx("p",{className:"bg-light rounded py-1 px-2 cursor-pointer",onClick:()=>{document.querySelectorAll("audio").forEach(f=>f.pause());const l=document.getElementById("coffeeSound");i(l)},children:"Coffee"})]})]})},Gs=async(e,t)=>{const i=l=>{t(l)},a=H($(),e);await Y(a,l=>{if(l.val()!==null){let f=Object.entries(l.val()).map((c,s)=>{if(s!==0)return c[1]}).filter((c,s)=>s!==0);i(f)}})},Ks=async(e,t,i,a)=>{const l={content:"Your name is Meja Belajar Digital. You are a helpful search engine designed to assist students in their learning journey.",role:"system"};if(a(""),i.length!==0){const f=[l,...t,{content:i,role:"user"}];await x(["users/"+e.uid+"/search"],f);const c=await It(f);if(c)x(["users/"+e.uid+"/search"],[...f,c]);else{const s={role:"assistant",content:"error"};x(["users/"+e.uid+"/search"],s)}}},Ws=()=>{const[e,t]=O.useState(""),[i,a]=O.useState([]),[l]=D(z);O.useEffect(()=>{Gs(`users/${l.uid}/search`,s=>{a(s)})},[]);const f=s=>{t(s.target.value)},c={message:"massage d-flex justify-content-end mb-4 ps-5",aiMessage:"ai-massage d-flex justify-content-start mb-4 pe-5"};return u.jsx("div",{className:"regular-size shadow",children:u.jsx("div",{className:"regular-size p-3",children:u.jsxs("div",{className:"d-flex justify-content-between flex-column rounded-3 border border-2 border-black bg-white-dark content-1 p-3",children:[u.jsx("div",{className:"overflow-auto pb-5",children:u.jsx("div",{className:"log pt-2 pe-3",children:i.length>0?i.map((s,n)=>u.jsx("div",{className:s.role==="user"?c.message:c.aiMessage,children:u.jsx("div",{className:"p-2 pt-1 rounded ",children:s.content})},"message-"+n)):u.jsx("div",{className:c.aiMessage,children:u.jsx("div",{className:"p-2 pt-1 rounded ",children:"ada yang bisa dibantu?"})})})}),u.jsxs("div",{className:"position-relative mt-5 ",children:[u.jsx("div",{className:"d-flex justify-content-between form-search start-0 end-0 bottom-0 position-absolute z-1 search-box",children:u.jsx("textarea",{autoFocus:!0,className:"form-control fs-6 rounded rounded-3 pe-4 ",placeholder:"search",maxLength:15e3,id:"floatingTextarea2",value:e,onChange:f})}),u.jsx("button",{onClick:()=>Ks(l,i,e,t),className:"position-absolute z-2 end-0 p-1 pt-0 me-2 fs-5 btn-search ",style:{bottom:"1vh"},children:u.jsx(Be,{})})]})]})})})},Xs=({duration:e})=>{const t=O.useRef(null),{isPomodoroRunning:i,isShortBreakRunning:a,isLongBreakRunning:l,time:f,categoryRef:c,isTimerRunning:s,timeString:n}=jt(p=>p.pomodoro),d=xt(),o=()=>{Notification.permission==="granted"?new Notification(c+" Finished!",{body:"The "+c+" has finished. Let's get some break."}):Notification.permission!=="denied"&&Notification.requestPermission().then(p=>{p==="granted"&&new Notification(c+" Finished!",{body:"The "+c+" has finished. Let's get some break."})})},r=()=>{d(W(!1)),d(ze(!1)),d(He(!1)),d($e(!1)),t.current&&(clearInterval(t.current),t.current=null)},h=()=>{r(),d(Jt())};return s&&(p=>{c==="Pomodoro"?i||d(ze(!0)):c==="Short Break"?a||d(He(!0)):c==="Long Break"&&(l||d($e(!0))),t.current=setInterval(()=>{if(d(Yt()),f<=p*60){console.log(f,p*60);const v=Math.floor(f/60),b=f%60,j=`${v.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`;return d(Qt(j)),console.log(j),j}f>=p*60&&(h(),o(),clearInterval(t.current),t.current=null)},1e3)})(e),u.jsx(u.Fragment,{children:n||"00:00"})},Zs=(e,t)=>{const i=l=>{t(l)},a=H($(),e);Y(a,l=>{l.val()&&i(l.val())})},er=()=>{const[e]=D(z),[t,i]=O.useState(),[a,l]=O.useState(),[f,c]=O.useState(),s=O.useRef(null),{isPomodoroRunning:n,isShortBreakRunning:d,isLongBreakRunning:o}=jt(h=>h.pomodoro),r=xt();return O.useEffect(()=>{Zs(`users/${e.uid}/pomodoro`,h=>{i(h.pomodoroDuration),l(h.shortBreak),c(h.longBreak)})},[]),u.jsxs("div",{className:"pop-up-size p-4 d-flex justify-content-between flex-column end-0 bottom-0 me-1",children:[u.jsx("div",{children:u.jsx("p",{className:"fs-2 fw-bold border-bottom border-black border-3",children:"Pomodoro"})}),u.jsxs("div",{className:"h-75 w-100 blue-shadow rounded rounded-4 mb-4 pb-3 d-flex flex-column justify-content-between",children:[u.jsxs("div",{className:"w-100 px-4 pt-3",children:[u.jsxs("p",{className:"d-flex justify-content-between",children:["Pomodoro duration",n?u.jsx("button",{className:"bg-transparent border-0",onClick:()=>console.log("ResetTimer()"),children:u.jsx(X,{className:"fs-4"})}):u.jsx("button",{disabled:d||o,className:"bg-transparent border-0",onClick:()=>{s.current=t,r(W(!0))},children:u.jsx(Z,{className:"fs-4"})})]}),u.jsx("input",{type:"number",name:"pomodoro-duration",id:"pomodoro-duration",className:"rounded border-0 w-100 input-pomodoro",value:t,onChange:h=>{i(Number(h.target.value)),x(["users/"+e.uid+"/pomodoro/pomodoroDuration"],Number(h.target.value))}})]}),u.jsxs("div",{className:"w-100 px-4 pt-3",children:[u.jsxs("p",{className:"d-flex justify-content-between",children:["Short break",d?u.jsx("button",{className:"bg-transparent border-0",onClick:()=>console.log("ResetTimer()"),children:u.jsx(X,{className:"fs-4"})}):u.jsx("button",{disabled:n||o,className:"bg-transparent border-0",onClick:()=>{s.current=a,r(W(!0))},children:u.jsx(Z,{className:"fs-4"})})]}),u.jsx("input",{type:"number",name:"pomodoro-duration",id:"pomodoro-duration",className:"rounded border-0 w-100",value:a,onChange:h=>{l(Number(h.target.value)),x(["users/"+e.uid+"/pomodoro/shortBreak"],Number(h.target.value))}})]}),u.jsxs("div",{className:"w-100 px-4 pt-3",children:[u.jsxs("p",{className:"d-flex justify-content-between",children:["Long break",o?u.jsx("button",{className:"bg-transparent border-0",onClick:()=>console.log("ResetTimer()"),children:u.jsx(X,{className:"fs-4"})}):u.jsx("button",{disabled:n||d,className:"bg-transparent border-0",onClick:()=>{s.current=f,r(W(!0))},children:u.jsx(Z,{className:"fs-4"})})]}),u.jsx("input",{type:"number",name:"pomodoro-duration",id:"pomodoro-duration",className:"rounded border-0 w-100 ",value:f,onChange:h=>{c(Number(h.target.value)),x(["users/"+e.uid+"/pomodoro/longBreak"],Number(h.target.value))}})]})]}),u.jsxs("div",{className:"d-flex justify-content-center align-items-center ",children:[u.jsx(oa,{className:"me-2 mb-2"}),u.jsx("p",{className:"mt-2",children:u.jsx(Xs,{duration:s.current})})]})]})},sr=()=>{const[e,t]=O.useState(!1),[i,a]=O.useState(!1),[l,f]=O.useState(!1),[c,s]=O.useState(!1),[n,d]=O.useState(!1),[o,r]=O.useState(!1),[h,m]=O.useState(!1),[p,v]=O.useState(!1);return u.jsxs("div",{className:"home",children:[e===!0&&u.jsx(ma,{}),i===!0&&u.jsx(ga,{}),l===!0&&u.jsx(ya,{}),c===!0&&u.jsx(wa,{}),n===!0&&u.jsx(Ds,{}),o===!0&&u.jsx(Js,{}),h===!0&&u.jsx(Ws,{}),p===!0&&u.jsx(er,{}),u.jsx(ua,{setToDoList:t,toDoList:e,setNote:a,note:i,setBlurting:f,blurting:l,flashCard:c,setFlashCard:s,feynman:n,setFeynman:d,music:o,setMusic:r,search:h,setSearch:m,pomodoro:p,setPomodoro:v})]})};export{sr as default};
